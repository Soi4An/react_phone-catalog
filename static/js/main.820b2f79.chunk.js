(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),n=c.n(a),s=c(6),i=c(4),r=(c(31),c(1)),l=c.n(r),o=c(2),d=(c(32),c(5)),u=c.n(d),j=(c(33),function(e){return e.Screen="Screen",e.Capacity="Capacity",e.Ram="RAM",e.Resolution="Resolution",e.Processor="Processor",e.Memory="Built in memory",e.Camera="Camera",e.Zoom="Zoom",e.Cell="Cell",e}({})),b=function(e){return e.Phones="/phones",e.Tablets="/tablets",e.Accessories="/accessories",e.Favourites="/favourites",e.Cart="/shopping-bag",e}({}),m=c(8),h=function(e){return e.Like="likedProducts",e.Cart="addedProducts",e}({}),O=function(e,t){var c=Object(m.a)(e);if(c.includes(t))for(;c.includes(t);)c.splice(c.indexOf(t),1);else c.push(t);return c};function _(e,t,c,a){c(O(t,e)),function(e,t){var c=localStorage.getItem(e),a=c?JSON.parse(c):[];localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(O(a,t)))}(a,e)}var p=function(e,t){var c=localStorage.getItem(h.Cart),a=c?JSON.parse(c):[];localStorage.removeItem(h.Cart),e?a.push(t):a.splice(a.indexOf(t),1),localStorage.setItem(h.Cart,JSON.stringify(a))},x=c(0),f=localStorage.getItem(h.Like),N=f?JSON.parse(f):[],g=localStorage.getItem(h.Cart),v=g?JSON.parse(g):[],y=l.a.createContext({liked:[],setLiked:function(){},addedToCart:[],setAddedToCart:function(){}}),k=function(e){var t=e.children,c=Object(r.useState)(N),a=Object(o.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(v),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(r.useMemo)((function(){return{liked:n,setLiked:s,addedToCart:d,setAddedToCart:u}}),[n,d]);return Object(x.jsx)(y.Provider,{value:j,children:t})},S="https://mate-academy.github.io/react_phone-catalog/_new",C="?sort=age&shown=16",w="email: soi4.toxa@ukr.net",L="https://github.com/mate-academy/react_phone-catalog/pull/234",P=32,A=function(e,t){return{pathname:e,search:t}},I=function(e){var t=e.product,c=e.numLiked,a=e.onSetNumLiked,n=e.numAdded,l=e.onSetNumAdded,d=t.image,m=t.name,O=t.price,p=t.fullPrice,f=t.screen,N=t.capacity,g=t.ram,v=t.phoneId,k=Object(r.useContext)(y),C=k.liked,w=k.setLiked,L=k.addedToCart,P=k.setAddedToCart,I=L.filter((function(e){return e===v})).length,q=Object(r.useState)(C.includes(v)),E=Object(o.a)(q,2),T=E[0],F=E[1],M=Object(r.useState)(L.includes(v)),z=Object(o.a)(M,2),R=z[0],B=z[1],K=Object(i.m)(),H=K.pathname,J=K.search;return Object(x.jsxs)("div",{className:"product-card",children:[Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(v),state:A(H,J),children:Object(x.jsx)("img",{src:"".concat(S,"/").concat(d),alt:"".concat(S,"/").concat(d),className:"product-card__img"})}),Object(x.jsx)("div",{className:"product-card__name",children:m}),O!==p?Object(x.jsxs)("div",{className:"product-card__prices",children:[Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)}),Object(x.jsx)("span",{className:"product-card__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"product-card__prices",children:Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"product-card__param--value",children:f})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Capacity}),Object(x.jsx)("span",{className:"product-card__param--value",children:N})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"product-card__param--value",children:g})]})]}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button",className:u()("selection-buttons__add",{"is-selected":R}),onClick:function(){var e=h.Cart;_(v,L,P,e),B(!R),l(R?n-I:n+1)},children:R?"Added to card":"Add to card"}),Object(x.jsx)("button",{type:"button","aria-label":"like card",className:u()("selection-buttons__like",{"is-selected":T}),onClick:function(){_(v,C,w,h.Like),F(!T),a(T?c-1:c+1)},"data-cy":"addToFavorite"})]})]})},q=(c(35),function(e){return e.Next="next",e.Prev="prev",e.Empty="",e}(q||{})),E=l.a.memo((function(e){var t=e.title,c=e.products,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,l=Object(r.useState)(0),d=Object(o.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)(4),h=Object(o.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(q.Prev),f=Object(o.a)(p,2),N=f[0],g=f[1],v=283,y=(c.length-O)*v*-1;return Object(r.useEffect)((function(){var e=window.innerWidth;e<633&&(e<1020&&(e<1303&&_(3),_(2)),_(1)),_(4)}),[j]),Object(x.jsxs)("div",{className:"slider",children:[Object(x.jsxs)("div",{className:"slider__top",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsxs)("div",{className:"slider__top--buttons-container",children:[Object(x.jsx)("button",{type:"button","aria-label":"scroll-left",title:"previous images",className:u()("slider__top--button","slider__top--button-left",{"is-disabled":N===q.Prev}),onClick:function(){g(j+v===0?q.Prev:q.Empty),b((function(e){return e+v}))},disabled:N===q.Prev}),Object(x.jsx)("button",{type:"button","aria-label":"scroll-right",title:"next images",className:u()("slider__top--button","slider__top--button-right",{"is-disabled":N===q.Next}),onClick:function(){g(j-v===y?q.Next:q.Empty),b((function(e){return e-v}))},disabled:N===q.Next})]})]}),Object(x.jsx)("div",{className:"slider__content",children:Object(x.jsx)("div",{className:"slider__images","data-cy":"cardsContainer",style:{transform:"translateX(".concat(j,"px)")},children:c.map((function(e){return Object(x.jsx)(I,{product:e,numLiked:a,onSetNumLiked:n,numAdded:s,onSetNumAdded:i},e.id)}))})})]})})),T=(c(36),[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/banner-accessories.bdd2e0fc.png"]),F=T.length-1,M=function(){var e=window.innerWidth;return e<1260?e<744?e-40:e-144:1020},z=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(0),s=Object(o.a)(n,2),i=s[0],l=s[1],d=Object(r.useState)(M),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)(!1),O=Object(o.a)(h,2),_=O[0],p=O[1],f=b+40,N=0,g=function(){c===F?(a(0),l(0)):(a((function(e){return e+1})),l((function(e){return e-f})))};return Object(r.useEffect)((function(){return _||(N=window.setInterval((function(){return g()}),5e3)),function(){return clearInterval(N)}}),[c,b]),Object(r.useEffect)((function(){var e=function(){m(M),a(0),l(0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsxs)("div",{className:"carusel",children:[Object(x.jsxs)("div",{className:"carusel__top",children:[Object(x.jsx)("button",{onClick:function(){clearInterval(N),p(!0),0===c?(a(F),l(-f*F)):(a((function(e){return e-1})),l((function(e){return e+f})))},type:"button","aria-label":"carusel prev image",title:"previous images",className:" carusel__button carusel__button--left "}),Object(x.jsx)("div",{className:"carusel__content",children:Object(x.jsx)("ul",{className:"carusel__list",style:{transform:"translateX(".concat(i,"px)")},children:T.map((function(e){return Object(x.jsx)("li",{className:"carusel__item",children:Object(x.jsx)("img",{src:e,alt:e,className:"carusel__img"})},e)}))})}),Object(x.jsx)("button",{type:"button","aria-label":"carusel next image",title:"next images",className:" carusel__button carusel__button--right ",onClick:function(){clearInterval(N),p(!0),g()}})]}),Object(x.jsx)("div",{className:"carusel__points",children:T.map((function(e,t){return Object(x.jsx)("button",{type:"button","aria-label":"image-carusel",className:u()("carusel__point",{"is-selected":c===T.indexOf(e)}),onClick:function(){return function(e){if(clearInterval(N),p(!0),a(e),e>c){var t=e-c;l((function(e){return e-t*f}))}if(e<c){var n=c-e;l((function(e){return e+n*f}))}}(t)}},e)}))})]})},R=(c(37),function(e){return e.WithDiscount="Hot prices",e.Categories="Shop by category",e.NewModels="Brand new models",e.Phones="Mobile phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Cart="Cart",e.MayLike="You may also like",e}({})),B=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e}({}),K=c.p+"static/media/category-phones.af93d992.png",H=c.p+"static/media/category-tablets.51782e18.png",J=c.p+"static/media/category-accessories.e47d6d6d.png",$=[{link:B.Phones,name:R.Phones,photo:K},{link:B.Tablets,name:R.Tablets,photo:H},{link:B.Accessories,name:R.Accessories,photo:J}],D=l.a.memo((function(e){var t=e.title,c=e.products,a=function(e){return c.filter((function(t){return t.category===e})).length};return Object(x.jsxs)("div",{className:"categories",children:[Object(x.jsx)("h1",{className:"title__biggest",children:t}),Object(x.jsx)("div",{className:"categories__content","data-cy":"categoryLinksContainer",children:$.map((function(e){var t=e.link,c=e.name,n=e.photo;return Object(x.jsxs)(s.b,{to:t+C,className:"categories__category",children:[Object(x.jsx)("div",{className:u()("categories__img--container","categories__category--".concat(t)),children:Object(x.jsx)("img",{className:"categories__img",src:n,alt:n})}),Object(x.jsx)("h3",{className:"categories__category--name",children:c}),Object(x.jsx)("div",{className:"categories__category--quantity",children:"".concat(a(t)," models")})]},c)}))})]})}));function W(e){return(t=500,new Promise((function(e){return setTimeout(e,t)}))).then((function(){return fetch(S+e)})).then((function(e){if(!e.ok){var t=e.status?" Response status = ".concat(e.status):"",c=e.statusText?" Status text = ".concat(e.statusText):"",a="Unable to connect from the server.\n          ".concat(t).concat(c);throw new Error(a)}return e.json()}));var t}var G=function(e){return W(e)},Q=function(e,t){var c=localStorage.getItem(t),a=c?JSON.parse(c):[];return e.filter((function(e){return a.includes(e.phoneId)}))},U=function(){return G("/products.json")},Y=(c(38),function(){return Object(x.jsx)("div",{className:"loader","data-cy":"loader",children:Object(x.jsx)("div",{className:"loader__content"})})}),Z=(c(39),c.p+"static/media/Logo.13ce922e.svg"),X=function(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(!1),i=Object(o.a)(n,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){var e=document.querySelector(".footer"),t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting||a(!1)}))}));return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[]),Object(r.useEffect)((function(){var e=function(){var e=window.innerWidth;d(e>=744)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"footer__content",children:[Object(x.jsx)("a",{href:"/",className:"footer__nav-link",children:Object(x.jsx)("img",{src:Z,alt:"logo-img",className:"logo-img"})}),Object(x.jsx)("nav",{className:"nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(s.b,{to:L,className:"footer__nav-link nav__link",children:"Github"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},title:w,children:"Contacts"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Rights"})})]})}),c?Object(x.jsx)("div",{}):Object(x.jsxs)("div",{className:"footer__button-go-top--container",children:[l&&"Back to top",Object(x.jsx)("button",{type:"button","aria-label":"scroll to top",className:"footer__button-go-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})})},V=(c(40),function(e){var t=e.text;return Object(x.jsx)("div",{className:"err-mess",children:t})}),ee=(c(41),function(e){return e.Home="Home",e.Phones="Phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Card="Card",e.Github="GitHub",e.Contacts="Contacts",e}({}));function te(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}var ce=function(e){return e.Sort="sort",e.ShownCards="shown",e.PageNumber="page",e.Query="query",e.Liked="liked",e.Added="added",e}({}),ae=function(e){var t=e.withNavigate,c=void 0===t||t,a=e.withSearchBy,n=void 0===a?"":a,l=e.quantityLiked,d=void 0===l?0:l,j=e.quantityAdded,m=void 0===j?0:j,h=e.onSetIsMenu,O=void 0===h?function(){}:h,_=e.isMenu,p=void 0!==_&&_,f=Object(i.m)(),N=f.pathname,g=f.search,v=Object(s.d)(),y=Object(o.a)(v,2),k=y[0],S=y[1],w=k.get(ce.Query)||"",L=Object(r.useState)(w),P=Object(o.a)(L,2),I=P[0],q=P[1],E=function(e){var t=e.isActive;return u()("nav__link","header__nav-link",{"header__is-active":t})},T=Object(r.useCallback)(function(e,t){var c=0;return function(a){window.clearTimeout(c),c=window.setTimeout((function(){return e(a)}),t)}}((function(e){S(te(k,{query:e||null}))}),1e3),[]);return Object(x.jsxs)("header",{id:"header",className:"header",children:[Object(x.jsxs)("div",{className:"header__left",children:[Object(x.jsx)("div",{className:"header__logo",children:Object(x.jsx)(s.b,{to:"/",className:"header__nav-link",children:Object(x.jsx)("img",{src:Z,alt:"logo-img",className:"logo-img"})})}),c&&Object(x.jsx)("nav",{className:"header__nav nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:E,children:ee.Home})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Phones+C,end:!0,className:E,children:ee.Phones})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Tablets+C,end:!0,className:E,children:ee.Tablets})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Accessories+C,end:!0,className:E,children:ee.Accessories})})]})})]}),Object(x.jsxs)("div",{className:"header__right",children:[n&&Object(x.jsxs)("div",{className:"header__form",children:[Object(x.jsx)("input",{className:"header__input",placeholder:"Search in ".concat(n,"..."),value:I,onChange:function(e){var t=e.target.value;q(t),T(t)}}),Object(x.jsx)("div",{className:"header__form--button",children:w.length?Object(x.jsx)("button",{type:"button","aria-label":"button delete query",onClick:function(){q(""),S(te(k,{query:null}))},className:"header__form--close","data-cy":"searchDelete"}):Object(x.jsx)("div",{className:"header__form--search"})})]}),Object(x.jsx)("button",{type:"button","aria-label":"button open menu",className:u()("header__square-link",{header__menu:!p},{header__close:p}),onClick:function(){O(!p)}}),Object(x.jsx)(s.c,{to:b.Favourites,state:A(N,g),className:function(e){var t=e.isActive;return u()("header__square-link","header__favourites",{"header__is-active":t})},children:0!==d&&Object(x.jsx)("p",{className:"header__small-quantity",children:d})}),Object(x.jsx)(s.c,{to:b.Cart,state:A(N,g),className:function(e){var t=e.isActive;return u()("header__square-link","header__shopping-bag",{"header__is-active":t})},children:0!==m&&Object(x.jsx)("p",{className:"header__small-quantity",children:m})})]})]})},ne=(c(42),function(e){var t=e.quantityLiked,c=e.quantityAdded,a=e.onSetIsMenu,n=Object(i.m)(),r=n.pathname,l=n.search,o=function(e){var t=e.isActive;return u()("menu__link",{"is-active":t})},d=function(){a(!1)};return Object(x.jsxs)("section",{className:"menu",children:[Object(x.jsx)(ae,{onSetIsMenu:a,isMenu:!0}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("nav",{className:"menu__nav",children:Object(x.jsxs)("ul",{className:"menu__list",children:[Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:o,onClick:d,state:A(r,l),children:ee.Home})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Phones+C,end:!0,className:o,onClick:d,state:A(r,l),children:ee.Phones})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Tablets+C,end:!0,className:o,onClick:d,state:A(r,l),children:ee.Tablets})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Accessories+C,end:!0,className:o,onClick:d,state:A(r,l),children:ee.Accessories})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)(s.c,{to:b.Favourites,end:!0,className:o,onClick:d,state:A(r,l),children:0!==t?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:ee.Favourites}),Object(x.jsx)("p",{className:"menu__small-quantity",children:t})]}):ee.Favourites})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Cart,end:!0,className:o,onClick:d,state:A(r,l),children:0!==c?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:ee.Card}),Object(x.jsx)("p",{className:"menu__small-quantity",children:c})]}):ee.Card})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)("div",{className:"menu__link",title:w,children:ee.Contacts})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:L,end:!0,className:"menu__link",children:ee.Github})})]})})})]})}),se=l.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),s=n[0],i=n[1],l=Object(r.useState)(c.length),d=Object(o.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)([]),h=Object(o.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(""),f=Object(o.a)(p,2),N=f[0],g=f[1],v=Object(r.useState)(!1),k=Object(o.a)(v,2),S=k[0],C=k[1],w=Object(r.useState)(!1),L=Object(o.a)(w,2),P=L[0],A=L[1],I=function(e){return e.filter((function(e){return e.fullPrice-e.price>0})).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))};return Object(r.useEffect)((function(){C(!0),U().then(_).catch((function(e){return g(e.message)})).finally((function(){C(!1)}))}),[]),Object(r.useEffect)((function(){P?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[P]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:P}),children:Object(x.jsx)(ne,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A})}),S&&Object(x.jsx)(Y,{}),!S&&!!N.length&&Object(x.jsx)(V,{text:N}),!S&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content home-page",children:[Object(x.jsx)("div",{className:"home-page__carusel",children:Object(x.jsx)(z,{})}),Object(x.jsx)(E,{title:R.WithDiscount,products:I(O),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b}),Object(x.jsx)(D,{title:R.Categories,products:O}),Object(x.jsx)(E,{title:R.NewModels,products:I(O).reverse(),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b})]})}),!S&&Object(x.jsx)(X,{})]})})),ie=(c(43),c(44),function(e){var t=e.lastPoint,c=e.interimPoints;return Object(x.jsxs)("div",{className:"way","data-cy":"breadCrumbs",children:[Object(x.jsx)(s.b,{to:"/","aria-label":"to home",title:"go to home",className:"way__home way__icon16"}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"}),!!c&&c.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(s.b,{to:e.link,className:"way__name way__link",children:e.text}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"})]},e.link)})),Object(x.jsx)("p",{className:"way__name",children:t})]})}),re=(c(45),c(46),function(e){var t=e.product,c=e.totalPrice,a=e.onSetTotalPrice,n=e.numAdded,l=e.onSetNumAdded,d=t.image,j=t.name,O=t.price,f=t.phoneId,N=Object(r.useContext)(y),g=N.addedToCart,v=N.setAddedToCart,k=Object(r.useState)((function(){return g.filter((function(e){return e===f})).length})),C=Object(o.a)(k,2),w=C[0],L=C[1],P=Object(i.m)(),I=P.pathname,q=P.search;return Object(x.jsxs)("div",{className:"horizont-card",children:[Object(x.jsx)("button",{type:"button",className:"horizont-card__button-close",onClick:function(){_(f,g,v,h.Cart),l(n-w),a(c-O*w)},"data-cy":"cartDeleteButton",children:"\xd7"}),Object(x.jsxs)("div",{className:"horizont-card__content",children:[Object(x.jsxs)("div",{className:"horizont-card__img-and-name",children:[Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(f),state:A(I,q),className:"horizont-card__image--container",children:Object(x.jsx)("img",{src:"".concat(S,"/").concat(d),alt:"".concat(S,"/").concat(d),className:"horizont-card__image"})}),Object(x.jsx)("div",{className:"horizont-card__name",children:j})]}),Object(x.jsxs)("div",{className:"horizont-card__pagination-and-price",children:[Object(x.jsxs)("div",{className:"horizont-card__pagination",children:[Object(x.jsx)("button",{type:"button",className:u()("horizont-card__pagination--button",{"is-disabled":1===w}),disabled:1===w,onClick:function(){L((function(e){return e-1}));var e=g.indexOf(f),t=Object(m.a)(g);t.splice(e,1),v(t),p(!1,f),a(c-O),l(n-1)},children:"\u2013"}),Object(x.jsx)("span",{className:"horizont-card__pagination--number",children:w}),Object(x.jsx)("button",{type:"button",className:"horizont-card__pagination--button",disabled:!1,onClick:function(){L((function(e){return e+1})),v([].concat(Object(m.a)(g),[f])),p(!0,f),a(c+O),l(n+1)},children:"+"})]}),Object(x.jsx)("h2",{className:"title__h-two",children:"$".concat(O)})]})]})]})}),le=function(e){var t=e.totalPrice,c=e.onSetTotalPrice,a=void 0===c?function(){}:c,n=e.products,s=e.numLiked,i=e.onSetNumLiked,r=e.numAdded,l=e.onSetNumAdded;return Object(x.jsx)("ul",{className:"product-list","data-cy":"productList",children:n.map((function(e){return Object(x.jsx)("li",{className:u()({"product-list__item":t}),children:t?Object(x.jsx)(re,{product:e,totalPrice:t,onSetTotalPrice:a,numAdded:r,onSetNumAdded:l}):Object(x.jsx)(I,{product:e,numLiked:s,onSetNumLiked:i,numAdded:r,onSetNumAdded:l})},e.id)}))})},oe=c(7),de=(c(47),function(e){return e.AgeName="Newest",e.AgeKey="age",e.NameName="Alphabetically",e.NameKey="name",e.PriceName="Cheapest",e.PriceKey="price",e.NumberFour="4",e.NumberEight="8",e.NumberSixteen="16",e.AllKey="all",e.AllName="All",e}({})),ue=c(24),je=c(26),be=["children","params"],me=function(e){var t=e.children,c=e.params,a=Object(je.a)(e,be),n=Object(s.d)(),i=Object(o.a)(n,1)[0];return Object(x.jsx)(s.b,Object(ue.a)(Object(ue.a)({to:{search:te(i,c)}},a),{},{children:t}))},he=function(e){for(var t=e.totalPages,c=e.onSetCurrentPage,a=Object(s.d)(),n=Object(o.a)(a,1)[0],i=+(n.get(ce.ShownCards)||de.NumberSixteen),l=+(n.get(ce.PageNumber)||1),d=Math.ceil(t/+i),j=P*d+5*(d-1)+20+64+5,b=[],m=1;m<=d;m+=1)b.push(m);var h=Object(r.useState)(!0),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(!1),N=Object(o.a)(f,2),g=N[0],v=N[1],y=Object(r.useState)(!1),k=Object(o.a)(y,2),S=k[0],C=k[1],w=Object(r.useState)(!1),L=Object(o.a)(w,2),A=L[0],I=L[1],q=Object(r.useState)(d),E=Object(o.a)(q,2),T=E[0],F=E[1],M=function(){var e=function(){var e=window.innerWidth,t=window.screen.width,c=e<t?e:t;return c<1260?c-144:c<744?c-40:1020}();e<j?function(e){for(var t=e-178,c=1,a=69;a<=t;a+=37)c+=1;var n=Math.floor((c-1)/2),s=c%2===0?1:0;s+=n,l-n<=3?(C(!0),I(!1),F(c+2)):l+s>d-3?(I(!0),C(!1),F(c+2)):(I(!0),C(!0),F(c))}(e):(C(!1),I(!1),F(d))};return Object(r.useEffect)((function(){return M(),p(1===l),v(l===d),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}}),[l,i]),Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsx)("div",{className:"pagination__item--prev",children:_?Object(x.jsx)("span",{className:"pagination__link disabled",children:"<"}):Object(x.jsx)(me,{className:"pagination__link","data-cy":"paginationLeft",params:Object(oe.a)({},ce.PageNumber,(l-1).toString()),onClick:function(){return c(l-1)},children:"<"})}),Object(x.jsxs)("ul",{className:"pagination__list","data-cy":"pagination",children:[!A&&!S&&b.map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===e}),params:Object(oe.a)({},ce.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),A&&S&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===b[0]}),params:Object(oe.a)({},ce.PageNumber,b[0].toString()),onClick:function(){return c(b[0])},children:b[0]})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),b.filter((function(e){var t=Math.floor((T-1)/2),c=T%2===0?1:0;return c=c+l+t,e>=l-t&&e<=c})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===e}),params:Object(oe.a)({},ce.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===b[d-1]}),params:Object(oe.a)({},ce.PageNumber,b[d-1].toString()),onClick:function(){return c(b[d-1])},children:b[d-1]})})]}),A&&!S&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===b[0]}),params:Object(oe.a)({},ce.PageNumber,b[0].toString()),onClick:function(){return c(b[0])},children:b[0]})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),b.filter((function(e){return e>d-T})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===e}),params:Object(oe.a)({},ce.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))}))]}),!A&&S&&Object(x.jsxs)(x.Fragment,{children:[b.filter((function(e){return e<=T})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===e}),params:Object(oe.a)({},ce.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(me,{className:u()("pagination__link",{active:l===b[d-1]}),params:Object(oe.a)({},ce.PageNumber,b[d-1].toString()),onClick:function(){return c(b[d-1])},children:b[d-1]})})]})]}),Object(x.jsx)("div",{className:"pagination__item--next",children:g?Object(x.jsx)("span",{className:"pagination__link disabled",children:">"}):Object(x.jsx)(me,{className:"pagination__link","data-cy":"paginationRight",params:Object(oe.a)({},ce.PageNumber,(l+1).toString()),onClick:function(){return c(l+1)},children:">"})})]})},Oe=(c(48),function(e){var t=e.caterogy;return Object(x.jsx)("section",{className:"no-results",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found")})})})}),_e=(c(49),function(e){var t,c=e.options,a=e.searchParam,n=Object(r.useState)(!1),i=Object(o.a)(n,2),l=i[0],d=i[1],j=Object(s.d)(),b=Object(o.a)(j,1)[0].get(a)||"",m=Object(r.useRef)(null),h=function(){d((function(e){return!e}))},O=function(e){var t,c=e.target;!m.current||null!==(t=m.current)&&void 0!==t&&t.contains(c)||d(!1)};return Object(r.useEffect)((function(){return document.addEventListener("click",O,!0),function(){document.removeEventListener("click",O,!0)}}),[]),Object(x.jsxs)("div",{className:"select",ref:m,children:[Object(x.jsx)("select",{hidden:!0,"aria-label":a,name:a,id:a}),Object(x.jsxs)("button",{type:"button",className:"select__button",onClick:h,children:[Object(x.jsx)("p",{children:(null===(t=c.find((function(e){return e.key===b})))||void 0===t?void 0:t.name)||"Choose param"}),Object(x.jsx)("div",{className:u()("select__arrow",{"arrow-top":l})})]}),Object(x.jsx)("div",{className:"select__options",children:l&&c.map((function(e){var t,c=e.key,n=e.name;return Object(x.jsx)(me,{params:(t={},Object(oe.a)(t,a,c),Object(oe.a)(t,ce.PageNumber,"".concat(1)),t),className:"select__button select__option",onClick:h,children:n},c)}))})]})}),pe=(c(50),[{key:de.AgeKey,name:de.AgeName},{key:de.NameKey,name:de.NameName},{key:de.PriceKey,name:de.PriceName}]),xe=[{key:de.NumberFour,name:de.NumberFour},{key:de.NumberEight,name:de.NumberEight},{key:de.NumberSixteen,name:de.NumberSixteen}],fe=function(){return Object(x.jsxs)("div",{className:"phones-filter",children:[Object(x.jsxs)("div",{className:"phones-filter__sort",children:[Object(x.jsx)("p",{children:"Sort by"}),Object(x.jsx)(_e,{options:pe,searchParam:ce.Sort})]}),Object(x.jsxs)("div",{className:"phones-filter__quantity-items",children:[Object(x.jsx)("p",{children:"Items on page"}),Object(x.jsx)(_e,{options:xe,searchParam:ce.ShownCards})]})]})},Ne=(c(51),function(e){var t=e.allProducts,c=e.filteredProducts,a=void 0===c?0:c,n=e.queryLength,s=void 0===n?0:n,i=e.productName,r=void 0===i?"item":i,l=function(e){return 1===e?"1 ".concat(r):"".concat(e," ").concat(r,"s")};return Object(x.jsxs)(x.Fragment,{children:[!t&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"You do not have selected products..."}),!!t&&!s&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:l(t)}),!!t&&!!s&&!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"Search have not givien results"}),!!t&&!!s&&!!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"".concat(l(a)," of ").concat(l(t))})]})}),ge=(c(52),function(e){var t=e.caterogy;return Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found for the current query")})}),ve=l.a.memo((function(e){var t=e.productCategiryName,c=e.productHaederName,a=e.productSectionName,n=Object(r.useContext)(y),i=n.liked,l=n.addedToCart,d=Object(r.useState)(i.length),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)(l.length),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)([]),N=Object(o.a)(f,2),g=N[0],v=N[1],k=Object(r.useState)(""),S=Object(o.a)(k,2),C=S[0],w=S[1],L=Object(r.useState)(!1),P=Object(o.a)(L,2),A=P[0],I=P[1],q=Object(r.useState)(!1),E=Object(o.a)(q,2),T=E[0],F=E[1],M=Object(r.useState)([]),z=Object(o.a)(M,2),R=z[0],B=z[1],K=Object(r.useState)(16),H=Object(o.a)(K,2),J=H[0],$=H[1],D=Object(s.d)(),W=Object(o.a)(D,1)[0],G=W.get(ce.Query)||"",Q=W.get(ce.Sort)||"",Z=+(W.get(ce.ShownCards)||16),ee=+(W.get(ce.PageNumber)||1),te=R.length,se=(+ee-1)*Z+1,re=function(e){$(e*Z>te?te:e*Z)},oe=function(){if(Q!==de.AgeKey&&Q!==de.NameKey&&Q!==de.PriceKey)return!1;if(Z!==+de.NumberFour&&Z!==+de.NumberEight&&Z!==+de.NumberSixteen)return!1;var e=Math.ceil(te/+Z);return!te||!(ee<1||ee>e)};return Object(r.useEffect)((function(){var e;I(!0),(e=t,U().then((function(t){return function(e,t){return e.filter((function(e){return e.category===t}))}(t,e)})).catch((function(e){throw e}))).then((function(e){v(e),B(e)})).catch((function(e){return w(e.message)})).finally((function(){return I(!1)}))}),[]),Object(r.useEffect)((function(){B(g.filter((function(e){var t=G.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(Q){case de.AgeKey:return t.year-e.year;case de.NameKey:return e.name.localeCompare(t.name);case de.PriceKey:return e.price-t.price;default:return 0}})))}),[Q,G,g]),Object(r.useEffect)((function(){re(ee)}),[Z,R]),Object(r.useEffect)((function(){T?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[T]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearchBy:t,quantityLiked:b,quantityAdded:_,onSetIsMenu:F}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:T}),children:Object(x.jsx)(ne,{quantityLiked:b,quantityAdded:_,onSetIsMenu:F})}),A&&Object(x.jsx)(Y,{}),!A&&!!C.length&&Object(x.jsx)(V,{text:C}),!A&&!C.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ie,{lastPoint:c})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:a}),!g.length&&Object(x.jsx)(Oe,{caterogy:a}),!!g.length&&oe()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:g.length,filteredProducts:R.length,queryLength:G.length,productName:"model"})}),!!R.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(fe,{}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(le,{numLiked:b,onSetNumLiked:m,numAdded:_,onSetNumAdded:p,products:R.slice(se-1,J)})})}),R.length>Z&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(he,{totalPages:te,onSetCurrentPage:re})})]})]}),!oe()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ge,{caterogy:a})})]})]})}),!A&&Object(x.jsx)(X,{})]})})),ye=function(){return Object(x.jsx)(ve,{productCategiryName:B.Phones,productHaederName:ee.Phones,productSectionName:R.Phones})},ke=function(){return Object(x.jsx)(ve,{productCategiryName:B.Tablets,productHaederName:ee.Tablets,productSectionName:R.Tablets})},Se=(c(53),c(54),function(e){var t=e.product.images,c=Object(r.useState)(t[0]),a=Object(o.a)(c,2),n=a[0],s=a[1];return Object(x.jsxs)("div",{className:"details-images",children:[Object(x.jsx)("div",{className:"details-images__small-images",children:t.map((function(e){return Object(x.jsx)("button",{type:"button",className:u()("small-image__container",{"is-active":e===n}),onClick:function(){return s(e)},children:Object(x.jsx)("img",{src:"".concat(S,"/").concat(e),alt:"".concat(S,"/").concat(e),className:"small-image"})},e)}))}),Object(x.jsx)("div",{className:"details-images__main-img-container",children:Object(x.jsx)("img",{src:"".concat(S,"/").concat(n),alt:"".concat(S,"/").concat(n),className:"details-images__main-img"})})]})}),Ce=(c(55),c(56),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search,l=function(e){var t=e.isActive;return u()("select-capacity__link",{"is-active":t})};return Object(x.jsxs)("div",{className:"select-capacity",children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-capacity__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:A(n,r),className:l,children:"".concat(parseFloat(e.capacity)," GB")})},e.id)}))})]})}),we=(c(57),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-colors__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:A(n,r),className:function(t){return function(e,t){return u()("select-colors__link","select-colors__color-".concat(t),{"is-active":e})}(t.isActive,e.color)}})},e.id)}))})]})}),Le=function(e){var t=e.product,c=e.similarProducts,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,l=t.screen,d=t.resolution,b=t.processor,m=t.ram,O=t.capacity,p=t.priceRegular,f=t.priceDiscount,N=t.color,g=t.id,v=Object(r.useContext)(y),k=v.liked,S=v.setLiked,C=v.addedToCart,w=v.setAddedToCart,L=C.filter((function(e){return e===g})).length,P=Object(r.useState)(k.includes(g)),A=Object(o.a)(P,2),I=A[0],q=A[1],E=Object(r.useState)(C.includes(g)),T=Object(o.a)(E,2),F=T[0],M=T[1],z=c.find((function(e){return e.phoneId===t.id})),R=c.filter((function(e){return e.color===N})).sort((function(e,t){return+e.capacity.slice(0,-2)-+t.capacity.slice(0,-2)})),B=c.filter((function(e){return e.capacity===O})).sort((function(e,t){return e.color.localeCompare(t.color)}));return Object(x.jsxs)("div",{className:"details-selects",children:[Object(x.jsxs)("div",{className:"details-selects__list",children:[Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(we,{title:"Available colors",similarProducts:B})}),Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(Ce,{title:"Select capacity",similarProducts:R})}),f!==p?Object(x.jsxs)("div",{className:"details-selects__prices",children:[Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)}),Object(x.jsx)("span",{className:"details-selects__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"details-selects__prices",children:Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)})}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button","aria-label":"button add",className:u()("selection-buttons__add",{"is-selected":F}),onClick:function(){_(g,C,w,h.Cart),M(!F),i(F?s-L:s+1)},children:F?"Added to card":"Add to sort"}),Object(x.jsx)("button",{type:"button","aria-label":"button like",className:u()("selection-buttons__like",{"is-selected":I}),onClick:function(){_(g,k,S,h.Like),q(!I),n(I?a-1:a+1)}})]}),Object(x.jsxs)("ul",{className:"details-selects__params",children:[Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"details-selects__param--value",children:l})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Resolution}),Object(x.jsx)("span",{className:"details-selects__param--value",children:d})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Processor}),Object(x.jsx)("span",{className:"details-selects__param--value",children:b})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"details-selects__param--value",children:m})]})]})]}),z&&Object(x.jsx)("div",{className:"details-selects__id",children:"ID: ".concat(z.id)})]})},Pe=(c(58),function(e){var t=e.product.description;return Object(x.jsxs)("div",{className:"details-description",children:[Object(x.jsx)("h2",{className:"details-description__main-title",children:"About"}),Object(x.jsx)("div",{className:"details-description__content","data-cy":"productDescription",children:t.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("h3",{className:"details-description__small-title",children:e.title}),e.text.map((function(e){return Object(x.jsx)("div",{className:"details-description__paragraf",children:e},e.slice(0,20))}))]},e.title)}))})]})}),Ae=(c(59),function(e){var t=e.product,c=t.screen,a=t.resolution,n=t.processor,s=t.ram,i=t.capacity,r=t.camera,l=t.zoom,o=t.cell;return Object(x.jsxs)("div",{className:"details-tech-specs",children:[Object(x.jsx)("h2",{className:"title__h-two",children:"Tech specs"}),Object(x.jsxs)("ul",{className:"details-tech-specs__content",children:[Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Screen}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:c})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Resolution}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:a})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Processor}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:n})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Ram}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:s})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Memory}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:i})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Camera}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:r})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Zoom}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:l})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Cell}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:o.join(", ")})]})]})]})}),Ie=(c(60),function(e){var t=e.getBack;return Object(x.jsxs)(s.b,{to:t(),className:"button-back","data-cy":"backButton",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]})}),qe=function(e){return{pathname:e?e.pathname:b.Phones,search:e?e.search:C}},Ee=function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),s=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),m=j[0],h=j[1],O=Object(r.useState)(null),_=Object(o.a)(O,2),p=_[0],f=_[1],N=Object(r.useState)(""),g=Object(o.a)(N,2),v=g[0],k=g[1],S=Object(r.useState)(!1),w=Object(o.a)(S,2),L=w[0],P=w[1],A=Object(r.useState)(!1),I=Object(o.a)(A,2),q=I[0],T=I[1],F=Object(r.useState)([]),M=Object(o.a)(F,2),z=M[0],B=M[1],K=Object(r.useState)([]),H=Object(o.a)(K,2),J=H[0],$=H[1],D=Object(i.q)().productId,W=Object(i.m)().state;return Object(r.useEffect)((function(){D&&(P(!0),function(e){return G("/products/".concat(e,".json"))}(D).then(f).catch((function(e){return k(e)})).finally((function(){return P(!1)})))}),[D]),Object(r.useEffect)((function(){var e;p&&((e=p.namespaceId,U().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)===t}))}(t,e)})).catch((function(e){throw e}))).then(B).catch((function(e){return k(e.message)})),function(e){return U().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)!==t}))}(t,e)})).catch((function(e){throw e}))}(p.namespaceId).then($).catch((function(e){return k(e)})))}),[p]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{quantityLiked:s,quantityAdded:m,onSetIsMenu:T}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(ne,{quantityLiked:s,quantityAdded:m,onSetIsMenu:T})}),L&&Object(x.jsx)(Y,{}),!L&&!!v.length&&Object(x.jsx)(V,{text:v}),!L&&!v.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[p&&Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ie,{lastPoint:p.name,interimPoints:[{text:ee.Phones,link:b.Phones+C}]})}),Object(x.jsxs)("section",{className:"details-page",children:[Object(x.jsx)(Ie,{getBack:function(){return qe(W)}}),p?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"details-page__title",children:null===p||void 0===p?void 0:p.name}),Object(x.jsxs)("div",{className:"details-page__content",children:[Object(x.jsxs)("div",{className:"details-page__section-top",children:[Object(x.jsx)(Se,{product:p}),Object(x.jsx)(Le,{product:p,similarProducts:z,numLiked:s,onSetNumLiked:l,numAdded:m,onSetNumAdded:h})]}),Object(x.jsxs)("div",{className:"details-page__section-bot",children:[Object(x.jsx)(Pe,{product:p}),Object(x.jsx)(Ae,{product:p})]})]})]}):Object(x.jsx)("p",{className:"details-page__paragraph",children:"Phone was not found"}),p&&Object(x.jsx)("div",{className:"details-page__slider",children:Object(x.jsx)(E,{title:R.MayLike,products:J,numLiked:s,onSetNumLiked:l,numAdded:m,onSetNumAdded:h})})]})]})}),!L&&Object(x.jsx)(X,{})]})},Te=(c(61),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),i=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),b=j[0],m=j[1],O=Object(r.useState)([]),_=Object(o.a)(O,2),p=_[0],f=_[1],N=Object(r.useState)(""),g=Object(o.a)(N,2),v=g[0],k=g[1],S=Object(r.useState)(!1),C=Object(o.a)(S,2),w=C[0],L=C[1],P=Object(r.useState)(!1),A=Object(o.a)(P,2),I=A[0],q=A[1],E=Object(r.useState)([]),T=Object(o.a)(E,2),F=T[0],M=T[1],z=Object(r.useState)([]),K=Object(o.a)(z,2),H=K[0],J=K[1],$=Object(s.d)(),D=Object(o.a)($,1)[0].get(ce.Query)||"";return Object(r.useEffect)((function(){L(!0),U().then((function(e){return Q(e,h.Like)})).catch((function(e){throw e})).then(f).catch((function(e){return k(e.message)})).finally((function(){return L(!1)}))}),[]),Object(r.useEffect)((function(){M(p.filter((function(e){return t.includes(e.phoneId)})))}),[p,i]),Object(r.useEffect)((function(){J(F.filter((function(e){var t=D.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})))}),[D,F]),Object(r.useEffect)((function(){I?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[I]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearchBy:B.Favourites,quantityLiked:i,quantityAdded:b,onSetIsMenu:q}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:I}),children:Object(x.jsx)(ne,{quantityLiked:i,quantityAdded:b,onSetIsMenu:q})}),w&&Object(x.jsx)(Y,{}),!w&&!!v.length&&Object(x.jsx)(V,{text:v}),!w&&!v.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ie,{lastPoint:ee.Favourites})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Favourites}),Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:F.length,filteredProducts:H.length,queryLength:D.length})}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(le,{products:H,numLiked:i,onSetNumLiked:l,numAdded:b,onSetNumAdded:m})})})]})]})}),!w&&Object(x.jsx)(X,{})]})}),Fe=(c(62),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),l=n[0],d=n[1],j=Object(r.useState)(c.length),b=Object(o.a)(j,2),m=b[0],O=b[1],_=Object(r.useState)([]),p=Object(o.a)(_,2),f=p[0],N=p[1],g=Object(r.useState)(""),v=Object(o.a)(g,2),k=v[0],S=v[1],C=Object(r.useState)(!1),w=Object(o.a)(C,2),L=w[0],P=w[1],A=Object(r.useState)(!1),I=Object(o.a)(A,2),q=I[0],E=I[1],T=Object(r.useState)([]),F=Object(o.a)(T,2),M=F[0],z=F[1],B=Object(r.useState)(0),K=Object(o.a)(B,2),H=K[0],J=K[1],$=Object(r.useState)(!1),D=Object(o.a)($,2),W=D[0],G=D[1],Z=Object(i.m)().state;return Object(r.useEffect)((function(){P(!0),U().then((function(e){return Q(e,h.Cart)})).catch((function(e){throw e})).then(N).catch((function(e){return S(e.message)})).finally((function(){return P(!1)}))}),[]),Object(r.useEffect)((function(){z(f.filter((function(e){return c.includes(e.phoneId)})))}),[f,m]),Object(r.useEffect)((function(){var e=c.map((function(e){var t,c=null===(t=M.find((function(t){return t.phoneId===e})))||void 0===t?void 0:t.price;return c?+c:0})).reduce((function(e,t){return e+t}),0);J(e)}),[M]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withNavigate:!1,quantityLiked:l,quantityAdded:m,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(ne,{quantityLiked:l,quantityAdded:m,onSetIsMenu:E})}),L&&Object(x.jsx)(Y,{}),!L&&!!k.length&&Object(x.jsx)(V,{text:k}),!L&&!k.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("main",{className:"container__content",children:Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsxs)(s.b,{to:qe(Z),className:"button-back",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]}),Object(x.jsx)("div",{className:"cart-page__title",children:Object(x.jsx)("h1",{className:"title__biggest",children:R.Cart})}),W&&Object(x.jsx)("p",{className:"cart-page__paragraph",children:"We are sorry, but this feature is not implemented yet."}),!W&&!M.length&&Object(x.jsx)("p",{className:"cart-page__paragraph",children:"Your cart is empty"}),!W&&!!M.length&&Object(x.jsx)("div",{className:"cart-page__content",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"cart-page__list",children:Object(x.jsx)(le,{totalPrice:H,onSetTotalPrice:J,products:M,numLiked:l,onSetNumLiked:d,numAdded:m,onSetNumAdded:O})}),Object(x.jsxs)("div",{className:"cart-page__content--right",children:[Object(x.jsx)("h1",{className:"title__biggest cart-page__price",children:"$".concat(H)}),Object(x.jsx)("p",{className:"cart-page__paragraf","data-cy":"productQauntity",children:1===m?"Total for 1 item":"Total for ".concat(m," items")}),Object(x.jsx)("div",{className:"cart-page__button--container",children:Object(x.jsx)("button",{type:"button",className:"cart-page__button",disabled:0===m,onClick:function(){return G(!0)},children:"Checkout"})})]})]})})]})})}),!L&&Object(x.jsx)(X,{})]})}),Me=function(){return Object(x.jsx)(ve,{productCategiryName:B.Accessories,productHaederName:ee.Accessories,productSectionName:R.Accessories})},ze=(c(63),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{}),Object(x.jsx)("section",{className:"not-found-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("h3",{className:"not-found-page__title",children:"Page not found :("})})})]})}),Re=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(k,{children:Object(x.jsx)(i.d,{children:Object(x.jsxs)(i.b,{path:"/",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(se,{})}),Object(x.jsx)(i.b,{path:"home",element:Object(x.jsx)(i.a,{to:"/",replace:!0})}),Object(x.jsxs)(i.b,{path:"phones",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(ye,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ee,{})})]}),Object(x.jsxs)(i.b,{path:"tablets",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(ke,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ee,{})})]}),Object(x.jsxs)(i.b,{path:"accessories",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Me,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ee,{})})]}),Object(x.jsx)(i.b,{path:"favourites",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Te,{})})}),Object(x.jsx)(i.b,{path:"shopping-bag",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Fe,{})})}),Object(x.jsx)(i.b,{path:"*",element:Object(x.jsx)(ze,{})})]})})})})};n.a.render(Object(x.jsx)(s.a,{children:Object(x.jsx)(Re,{})}),document.getElementById("root"))}]),[[64,1,2]]]);
//# sourceMappingURL=main.820b2f79.chunk.js.map