(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),n=c.n(a),s=c(5),i=c(4),r=(c(31),c(1)),o=c.n(r),l=c(2),d=(c(32),c(6)),u=c.n(d),j=(c(33),function(e){return e.Screen="Screen",e.Capacity="Capacity",e.Ram="RAM",e.Resolution="Resolution",e.Processor="Processor",e.Memory="Built in memory",e.Camera="Camera",e.Zoom="Zoom",e.Cell="Cell",e}({})),b=function(e){return e.Phones="/phones",e.Tablets="/tablets",e.Accessories="/accessories",e.Favourites="/favourites",e.Cart="/shopping-bag",e}({}),m=c(8),h=function(e){return e.Like="likedProducts",e.Cart="addedProducts",e}({}),O=function(e,t){var c=Object(m.a)(e);if(c.includes(t))for(;c.includes(t);)c.splice(c.indexOf(t),1);else c.push(t);return c};function _(e,t,c,a){c(O(t,e)),function(e,t){var c=localStorage.getItem(e),a=c?JSON.parse(c):[];localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(O(a,t)))}(a,e)}var p=function(e,t){var c=localStorage.getItem(h.Cart),a=c?JSON.parse(c):[];localStorage.removeItem(h.Cart),e?a.push(t):a.splice(a.indexOf(t),1),localStorage.setItem(h.Cart,JSON.stringify(a))},x=c(0),f=localStorage.getItem(h.Like),N=f?JSON.parse(f):[],g=localStorage.getItem(h.Cart),v=g?JSON.parse(g):[],y=o.a.createContext({liked:[],setLiked:function(){},addedToCart:[],setAddedToCart:function(){}}),S=function(e){var t=e.children,c=Object(r.useState)(N),a=Object(l.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(v),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(r.useMemo)((function(){return{liked:n,setLiked:s,addedToCart:d,setAddedToCart:u}}),[n,d]);return Object(x.jsx)(y.Provider,{value:j,children:t})},k="https://mate-academy.github.io/react_phone-catalog/_new",L=16,C="?sort=age&shown=16",w="https://github.com/mate-academy/react_phone-catalog/pull/234",P=function(e,t){return{pathname:e,search:t}},A=function(e){var t=e.product,c=e.numLiked,a=e.onSetNumLiked,n=e.numAdded,o=e.onSetNumAdded,d=t.image,m=t.name,O=t.price,p=t.fullPrice,f=t.screen,N=t.capacity,g=t.ram,v=t.phoneId,S=Object(r.useContext)(y),L=S.liked,C=S.setLiked,w=S.addedToCart,A=S.setAddedToCart,q=w.filter((function(e){return e===v})).length,E=Object(r.useState)(L.includes(v)),I=Object(l.a)(E,2),T=I[0],F=I[1],M=Object(r.useState)(w.includes(v)),K=Object(l.a)(M,2),B=K[0],z=K[1],R=Object(i.m)(),J=R.pathname,$=R.search;return Object(x.jsxs)("div",{className:"product-card",children:[Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(v),state:P(J,$),children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(d),alt:"".concat(k,"/").concat(d),className:"product-card__img"})}),Object(x.jsx)("div",{className:"product-card__name",children:m}),O!==p?Object(x.jsxs)("div",{className:"product-card__prices",children:[Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)}),Object(x.jsx)("span",{className:"product-card__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"product-card__prices",children:Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"product-card__param--value",children:f})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Capacity}),Object(x.jsx)("span",{className:"product-card__param--value",children:N})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"product-card__param--value",children:g})]})]}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button",className:u()("selection-buttons__add",{"is-selected":B}),onClick:function(){var e=h.Cart;_(v,w,A,e),z(!B),o(B?n-q:n+1)},children:B?"Added to card":"Add to card"}),Object(x.jsx)("button",{type:"button","aria-label":"like card",className:u()("selection-buttons__like",{"is-selected":T}),onClick:function(){_(v,L,C,h.Like),F(!T),a(T?c-1:c+1)},"data-cy":"addToFavorite"})]})]})},q=(c(35),function(e){return e.Next="next",e.Prev="prev",e.Empty="",e}(q||{})),E=o.a.memo((function(e){var t=e.title,c=e.products,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,o=Object(r.useState)(0),d=Object(l.a)(o,2),j=d[0],b=d[1],m=Object(r.useState)(4),h=Object(l.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(q.Prev),f=Object(l.a)(p,2),N=f[0],g=f[1],v=283,y=(c.length-O)*v*-1;return Object(r.useEffect)((function(){var e=window.innerWidth;e<633&&(e<1020&&(e<1303&&_(3),_(2)),_(1)),_(4)}),[j]),Object(x.jsxs)("div",{className:"slider",children:[Object(x.jsxs)("div",{className:"slider__top",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsxs)("div",{className:"slider__top--buttons-container",children:[Object(x.jsx)("button",{type:"button","aria-label":"scroll-left",title:"previous images",className:u()("slider__top--button","slider__top--button-left",{"is-disabled":N===q.Prev}),onClick:function(){g(j+v===0?q.Prev:q.Empty),b((function(e){return e+v}))},disabled:N===q.Prev}),Object(x.jsx)("button",{type:"button","aria-label":"scroll-right",title:"next images",className:u()("slider__top--button","slider__top--button-right",{"is-disabled":N===q.Next}),onClick:function(){g(j-v===y?q.Next:q.Empty),b((function(e){return e-v}))},disabled:N===q.Next})]})]}),Object(x.jsx)("div",{className:"slider__content",children:Object(x.jsx)("div",{className:"slider__images","data-cy":"cardsContainer",style:{transform:"translateX(".concat(j,"px)")},children:c.map((function(e){return Object(x.jsx)(A,{product:e,numLiked:a,onSetNumLiked:n,numAdded:s,onSetNumAdded:i},e.id)}))})})]})})),I=(c(36),c.p+"static/media/banner-phones.b4eeda8b.png"),T=c.p+"static/media/banner-tablets.a962057c.png",F=c.p+"static/media/banner-accessories.bdd2e0fc.png",M=[I,T,F],K=M.length-1,B=function(){var e=window.innerWidth;return e<1250?e<744?e-40:e-144:1020},z=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(0),s=Object(l.a)(n,2),i=s[0],o=s[1],d=Object(r.useState)(B),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),_=O[0],p=O[1],f=b+40,N=0,g=function(){c===K?(a(0),o(0)):(a((function(e){return e+1})),o((function(e){return e-f})))};return Object(r.useEffect)((function(){return _||(N=window.setInterval((function(){return g()}),3e3)),function(){return clearInterval(N)}}),[c,b]),Object(r.useEffect)((function(){var e=function(){m(B),a(0),o(0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsxs)("div",{className:"carusel",children:[Object(x.jsxs)("div",{className:"carusel__top",children:[Object(x.jsx)("button",{onClick:function(){clearInterval(N),p(!0),0===c?(a(K),o(-f*K)):(a((function(e){return e-1})),o((function(e){return e+f})))},type:"button","aria-label":"carusel prev image",title:"previous images",className:" carusel__button carusel__button--left "}),Object(x.jsx)("div",{className:"carusel__content",children:Object(x.jsx)("ul",{className:"carusel__list",style:{transform:"translateX(".concat(i,"px)")},children:M.map((function(e){return Object(x.jsx)("li",{className:"carusel__item",children:Object(x.jsx)("img",{src:e,alt:e,className:"carusel__img"})},e)}))})}),Object(x.jsx)("button",{type:"button","aria-label":"carusel next image",title:"next images",className:" carusel__button carusel__button--right ",onClick:function(){clearInterval(N),p(!0),g()}})]}),Object(x.jsx)("div",{className:"carusel__points",children:M.map((function(e){return Object(x.jsx)("div",{className:u()("carusel__point",{"is-selected":c===M.indexOf(e)})},e)}))})]})},R=(c(37),function(e){return e.WithDiscount="Hot prices",e.Categories="Shop by category",e.NewModels="Brand new models",e.Phones="Mobile phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Cart="Cart",e.MayLike="You may also like",e}({})),J=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e}({}),$=c.p+"static/media/category-phones.af93d992.png",D=c.p+"static/media/category-tablets.51782e18.png",Q=c.p+"static/media/category-accessories.e47d6d6d.png",H=[{link:J.Phones,name:R.Phones,photo:$},{link:J.Tablets,name:R.Tablets,photo:D},{link:J.Accessories,name:R.Accessories,photo:Q}],W=o.a.memo((function(e){var t=e.title,c=e.products,a=function(e){return c.filter((function(t){return t.category===e})).length};return Object(x.jsxs)("div",{className:"categories",children:[Object(x.jsx)("h1",{className:"title__biggest",children:t}),Object(x.jsx)("div",{className:"categories__content","data-cy":"categoryLinksContainer",children:H.map((function(e){var t=e.link,c=e.name,n=e.photo;return Object(x.jsxs)(s.b,{to:t+C,className:"categories__category",children:[Object(x.jsx)("div",{className:u()("categories__img--container","categories__category--".concat(t)),children:Object(x.jsx)("img",{className:"categories__img",src:n,alt:n})}),Object(x.jsx)("h3",{className:"categories__category--name",children:c}),Object(x.jsx)("div",{className:"categories__category--quantity",children:"".concat(a(t)," models")})]},c)}))})]})}));function G(e){return(t=500,new Promise((function(e){return setTimeout(e,t)}))).then((function(){return fetch(k+e)})).then((function(e){if(!e.ok){var t=e.status?" Response status = ".concat(e.status):"",c=e.statusText?" Status text = ".concat(e.statusText):"",a="Unable to connect from the server.\n          ".concat(t).concat(c);throw new Error(a)}return e.json()}));var t}var U=function(e){return G(e)},Y=function(e,t){var c=localStorage.getItem(t),a=c?JSON.parse(c):[];return e.filter((function(e){return a.includes(e.phoneId)}))},Z=function(){return U("/products.json")},X=function(e){return Z().then((function(t){return function(e,t){return e.filter((function(e){return e.category===t}))}(t,e)})).catch((function(e){throw e}))},V=(c(38),function(){return Object(x.jsx)("div",{className:"loader","data-cy":"loader",children:Object(x.jsx)("div",{className:"loader__content"})})}),ee=(c(39),c.p+"static/media/Logo.13ce922e.svg"),te=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),o=i[0],d=i[1];return Object(r.useEffect)((function(){var e=document.querySelector(".footer"),t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting||a(!1)}))}));return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[]),Object(r.useEffect)((function(){var e=function(){var e=window.innerWidth;d(e>743)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"footer__content",children:[Object(x.jsx)("a",{href:"/",className:"footer__nav-link",children:Object(x.jsx)("img",{src:ee,alt:"logo-img",className:"logo-img"})}),Object(x.jsx)("nav",{className:"nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(s.b,{to:w,className:"footer__nav-link nav__link",children:"Github"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Contacts"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Rights"})})]})}),c?Object(x.jsx)("div",{}):Object(x.jsxs)("div",{className:"footer__button-go-top--container",children:[o&&"Back to top",Object(x.jsx)("button",{type:"button","aria-label":"scroll to top",className:"footer__button-go-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})})},ce=(c(40),function(e){var t=e.text;return Object(x.jsx)("div",{className:"err-mess",children:t})}),ae=(c(41),function(e){return e.Home="Home",e.Phones="Phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Card="Card",e.Github="GitHub",e.Contacts="Contacts",e}({}));function ne(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}var se=function(e){return e.Sort="sort",e.ShownCards="shown",e.PageNumber="page",e.Query="query",e.Liked="liked",e.Added="added",e}({}),ie=function(e){var t=e.withNavigate,c=void 0===t||t,a=e.withSearchBy,n=void 0===a?"":a,o=e.quantityLiked,d=void 0===o?0:o,j=e.quantityAdded,m=void 0===j?0:j,h=e.onSetIsMenu,O=void 0===h?function(){}:h,_=e.isMenu,p=void 0!==_&&_,f=Object(i.m)(),N=f.pathname,g=f.search,v=Object(s.d)(),y=Object(l.a)(v,2),S=y[0],k=y[1],L=S.get(se.Query)||"",w=Object(r.useState)(L),A=Object(l.a)(w,2),q=A[0],E=A[1],I=function(e){var t=e.isActive;return u()("nav__link","header__nav-link",{"header__is-active":t})},T=Object(r.useCallback)(function(e,t){var c=0;return function(a){window.clearTimeout(c),c=window.setTimeout((function(){return e(a)}),t)}}((function(e){k(ne(S,{query:e||null}))}),1e3),[]);return Object(x.jsxs)("header",{id:"header",className:"header",children:[Object(x.jsxs)("div",{className:"header__left",children:[Object(x.jsx)(s.b,{to:"/",className:"header__nav-link",children:Object(x.jsx)("img",{src:ee,alt:"logo-img",className:"logo-img"})}),c&&Object(x.jsx)("nav",{className:"header__nav nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:I,children:ae.Home})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Phones+C,end:!0,className:I,children:ae.Phones})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Tablets+C,end:!0,className:I,children:ae.Tablets})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Accessories+C,end:!0,className:I,children:ae.Accessories})})]})})]}),Object(x.jsxs)("div",{className:"header__right",children:[n&&Object(x.jsxs)("div",{className:"header__form",children:[Object(x.jsx)("input",{className:"header__input",placeholder:"Search in ".concat(n,"..."),value:q,onChange:function(e){var t=e.target.value;E(t),T(t)}}),Object(x.jsx)("div",{className:"header__form--button",children:L.length?Object(x.jsx)("button",{type:"button","aria-label":"button delete query",onClick:function(){E(""),k(ne(S,{query:null}))},className:"header__form--close","data-cy":"searchDelete"}):Object(x.jsx)("div",{className:"header__form--search"})})]}),Object(x.jsx)("button",{type:"button","aria-label":"button open menu",className:u()("header__square-link",{header__menu:!p},{header__close:p}),onClick:function(){O(!p)}}),Object(x.jsx)(s.c,{to:b.Favourites,state:P(N,g),className:function(e){var t=e.isActive;return u()("header__square-link","header__favourites",{"header__is-active":t})},children:0!==d&&Object(x.jsx)("p",{className:"header__small-quantity",children:d})}),Object(x.jsx)(s.c,{to:b.Cart,state:P(N,g),className:function(e){var t=e.isActive;return u()("header__square-link","header__shopping-bag",{"header__is-active":t})},children:0!==m&&Object(x.jsx)("p",{className:"header__small-quantity",children:m})})]})]})},re=(c(42),function(e){var t=e.quantityLiked,c=e.quantityAdded,a=e.onSetIsMenu,n=function(e){var t=e.isActive;return u()("menu__link",{"is-active":t})};return Object(x.jsxs)("section",{className:"menu",children:[Object(x.jsx)(ie,{onSetIsMenu:a,isMenu:!0}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("nav",{className:"menu__nav",children:Object(x.jsxs)("ul",{className:"menu__list",children:[Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:n,onClick:function(){a(!1)},children:ae.Home})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Phones+C,end:!0,className:n,children:ae.Phones})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Tablets+C,end:!0,className:n,children:ae.Tablets})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Accessories+C,end:!0,className:n,children:ae.Accessories})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)(s.c,{to:b.Favourites,end:!0,className:n,children:0!==t?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:ae.Favourites}),Object(x.jsx)("p",{className:"menu__small-quantity",children:t})]}):ae.Favourites})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Cart,end:!0,className:n,children:0!==c?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:ae.Card}),Object(x.jsx)("p",{className:"menu__small-quantity",children:c})]}):ae.Card})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)("div",{className:"menu__link",children:ae.Contacts})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:w,end:!0,className:"menu__link",children:ae.Github})})]})})})]})}),oe=o.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),s=n[0],i=n[1],o=Object(r.useState)(c.length),d=Object(l.a)(o,2),j=d[0],b=d[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),N=f[0],g=f[1],v=Object(r.useState)(!1),S=Object(l.a)(v,2),k=S[0],L=S[1],C=Object(r.useState)(!1),w=Object(l.a)(C,2),P=w[0],A=w[1],q=function(e){return e.filter((function(e){return e.fullPrice-e.price>0})).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))};return Object(r.useEffect)((function(){L(!0),Z().then(_).catch((function(e){return g(e.message)})).finally((function(){L(!1)}))}),[]),Object(r.useEffect)((function(){P?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[P]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:P}),children:Object(x.jsx)(re,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A})}),k&&Object(x.jsx)(V,{}),!k&&!!N.length&&Object(x.jsx)(ce,{text:N}),!k&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content home-page",children:[Object(x.jsx)("div",{className:"home-page__carusel",children:Object(x.jsx)(z,{})}),Object(x.jsx)(E,{title:R.WithDiscount,products:q(O),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b}),Object(x.jsx)(W,{title:R.Categories,products:O}),Object(x.jsx)(E,{title:R.NewModels,products:q(O).reverse(),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b})]})}),!k&&Object(x.jsx)(te,{})]})})),le=(c(43),c(44),function(e){var t=e.lastPoint,c=e.interimPoints;return Object(x.jsxs)("div",{className:"way","data-cy":"breadCrumbs",children:[Object(x.jsx)(s.b,{to:"/","aria-label":"to home",title:"go to home",className:"way__home way__icon16"}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"}),!!c&&c.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(s.b,{to:e.link,className:"way__name way__link",children:e.text}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"})]},e.link)})),Object(x.jsx)("p",{className:"way__name",children:t})]})}),de=(c(45),c(46),function(e){var t=e.product,c=e.totalPrice,a=e.onSetTotalPrice,n=e.numAdded,o=e.onSetNumAdded,d=t.image,j=t.name,O=t.price,f=t.phoneId,N=Object(r.useContext)(y),g=N.addedToCart,v=N.setAddedToCart,S=Object(r.useState)((function(){return g.filter((function(e){return e===f})).length})),L=Object(l.a)(S,2),C=L[0],w=L[1],A=Object(i.m)(),q=A.pathname,E=A.search;return Object(x.jsxs)("div",{className:"horizont-card",children:[Object(x.jsxs)("div",{className:"horizont-card__left",children:[Object(x.jsx)("button",{type:"button",className:"horizont-card__close",onClick:function(){_(f,g,v,h.Cart),o(n-C),a(c-O*C)},"data-cy":"cartDeleteButton",children:"\xd7"}),Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(f),state:P(q,E),className:"horizont-card__image--container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(d),alt:"".concat(k,"/").concat(d),className:"horizont-card__image"})}),Object(x.jsx)("div",{className:"product-card__name",children:j})]}),Object(x.jsxs)("div",{className:"horizont-card__right",children:[Object(x.jsxs)("div",{className:"horizont-card__pagination",children:[Object(x.jsx)("button",{type:"button",className:u()("horizont-card__pagination--button",{"is-disabled":1===C}),disabled:1===C,onClick:function(){w((function(e){return e-1}));var e=g.indexOf(f),t=Object(m.a)(g);t.splice(e,1),v(t),p(!1,f),a(c-O),o(n-1)},children:"\u2013"}),Object(x.jsx)("span",{className:"horizont-card__pagination--number",children:C}),Object(x.jsx)("button",{type:"button",className:"horizont-card__pagination--button",disabled:!1,onClick:function(){w((function(e){return e+1})),v([].concat(Object(m.a)(g),[f])),p(!0,f),a(c+O),o(n+1)},children:"+"})]}),Object(x.jsx)("h2",{className:"title__h-two",children:"$".concat(O)})]})]})}),ue=function(e){var t=e.totalPrice,c=e.onSetTotalPrice,a=void 0===c?function(){}:c,n=e.products,s=e.numLiked,i=e.onSetNumLiked,r=e.numAdded,o=e.onSetNumAdded;return Object(x.jsx)("ul",{className:"product-list","data-cy":"productList",children:n.map((function(e){return Object(x.jsx)("li",{className:u()({"product-list__item":t}),children:t?Object(x.jsx)(de,{product:e,totalPrice:t,onSetTotalPrice:a,numAdded:r,onSetNumAdded:o}):Object(x.jsx)(A,{product:e,numLiked:s,onSetNumLiked:i,numAdded:r,onSetNumAdded:o})},e.id)}))})},je=c(7),be=(c(47),function(e){return e.AgeName="Newest",e.AgeKey="age",e.NameName="Alphabetically",e.NameKey="name",e.PriceName="Cheapest",e.PriceKey="price",e.NumberFour="4",e.NumberEight="8",e.NumberSixteen="16",e.AllKey="all",e.AllName="All",e}({})),me=c(24),he=c(26),Oe=["children","params"],_e=function(e){var t=e.children,c=e.params,a=Object(he.a)(e,Oe),n=Object(s.d)(),i=Object(l.a)(n,1)[0];return Object(x.jsx)(s.b,Object(me.a)(Object(me.a)({to:{search:ne(i,c)}},a),{},{children:t}))},pe=function(e){for(var t=e.totalPages,c=e.onSetCurrentPage,a=Object(r.useState)(!0),n=Object(l.a)(a,2),i=n[0],o=n[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(s.d)(),O=Object(l.a)(h,1)[0],_=+(O.get(se.ShownCards)||be.NumberSixteen),p=+(O.get(se.PageNumber)||1),f=Math.ceil(t/+_),N=[],g=1;g<=f;g+=1)N.push(g);return Object(r.useEffect)((function(){o(1===p),m(p===f)}),[p]),Object(x.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(x.jsx)("li",{className:"pagination__item",children:i?Object(x.jsx)("span",{className:"pagination__link disabled",children:"<"}):Object(x.jsx)(_e,{className:"pagination__link","data-cy":"paginationLeft",params:Object(je.a)({},se.PageNumber,(p-1).toString()),onClick:function(){return c(p-1)},children:"<"})}),N.map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(_e,{className:u()("pagination__link",{active:p===e}),params:Object(je.a)({},se.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:b?Object(x.jsx)("span",{className:"pagination__link disabled",children:">"}):Object(x.jsx)(_e,{className:"pagination__link","data-cy":"paginationRight",params:Object(je.a)({},se.PageNumber,(p+1).toString()),onClick:function(){return c(p+1)},children:">"})})]})},xe=(c(48),function(e){var t=e.caterogy;return Object(x.jsx)("section",{className:"no-results",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found")})})})}),fe=(c(49),function(e){var t,c=e.options,a=e.searchParam,n=Object(r.useState)(!1),i=Object(l.a)(n,2),o=i[0],d=i[1],j=Object(s.d)(),b=Object(l.a)(j,1)[0].get(a)||"",m=Object(r.useRef)(null),h=function(){d((function(e){return!e}))},O=function(e){var t,c=e.target;!m.current||null!==(t=m.current)&&void 0!==t&&t.contains(c)||d(!1)};return Object(r.useEffect)((function(){return document.addEventListener("click",O,!0),function(){document.removeEventListener("click",O,!0)}}),[]),Object(x.jsxs)("div",{className:"select",ref:m,children:[Object(x.jsxs)("button",{type:"button",className:"select__button",onClick:h,children:[Object(x.jsx)("p",{children:(null===(t=c.find((function(e){return e.key===b})))||void 0===t?void 0:t.name)||"Choose param"}),Object(x.jsx)("div",{className:u()("select__arrow",{"arrow-top":o})})]}),Object(x.jsx)("div",{className:"select__options",children:o&&c.map((function(e){var t,c=e.key,n=e.name;return Object(x.jsx)(_e,{params:(t={},Object(je.a)(t,a,c),Object(je.a)(t,se.PageNumber,"".concat(1)),t),className:"select__button select__option",onClick:h,children:n},c)}))})]})}),Ne=(c(50),[{key:be.AgeKey,name:be.AgeName},{key:be.NameKey,name:be.NameName},{key:be.PriceKey,name:be.PriceName}]),ge=[{key:be.NumberFour,name:be.NumberFour},{key:be.NumberEight,name:be.NumberEight},{key:be.NumberSixteen,name:be.NumberSixteen}],ve=function(){return Object(x.jsxs)("div",{className:"phones-filter",children:[Object(x.jsxs)("div",{className:"phones-filter__sort",children:[Object(x.jsx)("p",{children:"Sort by"}),Object(x.jsx)(fe,{options:Ne,searchParam:se.Sort})]}),Object(x.jsxs)("div",{className:"phones-filter__quantity-items",children:[Object(x.jsx)("p",{children:"Items on page"}),Object(x.jsx)(fe,{options:ge,searchParam:se.ShownCards})]})]})},ye=(c(51),function(e){var t=e.allProducts,c=e.filteredProducts,a=void 0===c?0:c,n=e.queryLength,s=void 0===n?0:n,i=e.productName,r=void 0===i?"item":i,o=function(e){return 1===e?"1 ".concat(r):"".concat(e," ").concat(r,"s")};return Object(x.jsxs)(x.Fragment,{children:[!t&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"You do not have selected products..."}),!!t&&!s&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:o(t)}),!!t&&!!s&&!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"Search have not givien results"}),!!t&&!!s&&!!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"".concat(o(a)," of ").concat(o(t))})]})}),Se=(c(52),function(e){var t=e.caterogy;return Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found for the current query")})}),ke=o.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),i=n[0],o=n[1],d=Object(r.useState)(c.length),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),N=Object(l.a)(f,2),g=N[0],v=N[1],S=Object(r.useState)(!1),k=Object(l.a)(S,2),C=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(l.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(l.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(L),B=Object(l.a)(K,2),z=B[0],$=B[1],D=Object(s.d)(),Q=Object(l.a)(D,1)[0],H=Q.get(se.Query)||"",W=Q.get(se.Sort)||"",G=+(Q.get(se.ShownCards)||L),U=+(Q.get(se.PageNumber)||1),Y=F.length,Z=(+U-1)*G+1,ee=function(e){$(e*G>Y?Y:e*G)},ne=function(){if(W!==be.AgeKey&&W!==be.NameKey&&W!==be.PriceKey)return!1;if(G!==+be.NumberFour&&G!==+be.NumberEight&&G!==+be.NumberSixteen)return!1;var e=Math.ceil(Y/+G);return!Y||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),X(J.Phones).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=H.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(W){case be.AgeKey:return t.year-e.year;case be.NameKey:return e.name.localeCompare(t.name);case be.PriceKey:return e.price-t.price;default:return 0}})))}),[W,H,_]),Object(r.useEffect)((function(){ee(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{withSearchBy:J.Phones,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(re,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),C&&Object(x.jsx)(V,{}),!C&&!!g.length&&Object(x.jsx)(ce,{text:g}),!C&&!g.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(le,{lastPoint:ae.Phones})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Phones}),!_.length&&Object(x.jsx)(xe,{caterogy:R.Tablets}),!!_.length&&ne()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ye,{allProducts:_.length,filteredProducts:F.length,queryLength:H.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ve,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ue,{numLiked:i,onSetNumLiked:o,numAdded:b,onSetNumAdded:m,products:F.slice(Z-1,z)})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(pe,{totalPages:Y,onSetCurrentPage:ee})})]})]}),!ne()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Se,{caterogy:R.Phones})})]})]})}),!C&&Object(x.jsx)(te,{})]})})),Le=(c(53),o.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),i=n[0],o=n[1],d=Object(r.useState)(c.length),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),N=Object(l.a)(f,2),g=N[0],v=N[1],S=Object(r.useState)(!1),k=Object(l.a)(S,2),C=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(l.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(l.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(L),B=Object(l.a)(K,2),z=B[0],$=B[1],D=Object(s.d)(),Q=Object(l.a)(D,1)[0],H=Q.get(se.Query)||"",W=Q.get(se.Sort)||"",G=+(Q.get(se.ShownCards)||L),U=+(Q.get(se.PageNumber)||1),Y=F.length,Z=(+U-1)*G+1,ee=function(e){$(e*G>Y?Y:e*G)},ne=function(){if(W!==be.AgeKey&&W!==be.NameKey&&W!==be.PriceKey)return!1;if(G!==+be.NumberFour&&G!==+be.NumberEight&&G!==+be.NumberSixteen)return!1;var e=Math.ceil(Y/+G);return!Y||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),X(J.Tablets).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=H.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(W){case be.AgeKey:return t.year-e.year;case be.NameKey:return e.name.localeCompare(t.name);case be.PriceKey:return e.price-t.price;default:return 0}})))}),[W,H,_]),Object(r.useEffect)((function(){ee(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{withSearchBy:J.Tablets,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(re,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),C&&Object(x.jsx)(V,{}),!C&&!!g.length&&Object(x.jsx)(ce,{text:g}),!C&&!g.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(le,{lastPoint:ae.Tablets})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Tablets}),!_.length&&Object(x.jsx)(xe,{caterogy:R.Tablets}),!!_.length&&ne()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ye,{allProducts:_.length,filteredProducts:F.length,queryLength:H.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ve,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ue,{numLiked:i,onSetNumLiked:o,numAdded:b,onSetNumAdded:m,products:F.slice(Z-1,z)})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(pe,{totalPages:Y,onSetCurrentPage:ee})})]})]}),!ne()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Se,{caterogy:R.Tablets})})]})]})}),!C&&Object(x.jsx)(te,{})]})}))),Ce=(c(54),c(55),function(e){var t=e.product.images,c=Object(r.useState)(t[0]),a=Object(l.a)(c,2),n=a[0],s=a[1];return Object(x.jsxs)("div",{className:"details-images",children:[Object(x.jsx)("div",{className:"details-images__small-images",children:t.map((function(e){return Object(x.jsx)("button",{type:"button",className:u()("small-image__container",{"is-active":e===n}),onClick:function(){return s(e)},children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(e),alt:"".concat(k,"/").concat(e),className:"small-image"})},e)}))}),Object(x.jsx)("div",{className:"details-images__main-img-container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(n),alt:"".concat(k,"/").concat(n),className:"details-images__main-img"})})]})}),we=(c(56),c(57),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search,o=function(e){var t=e.isActive;return u()("select-capacity__link",{"is-active":t})};return Object(x.jsxs)("div",{className:"select-capacity",children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-capacity__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:P(n,r),className:o,children:"".concat(e.capacity.slice(0,-2)," GB")})},e.id)}))})]})}),Pe=(c(58),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-colors__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:P(n,r),className:function(t){return function(e,t){return u()("select-colors__link","select-colors__color-".concat(t),{"is-active":e})}(t.isActive,e.color)}})},e.id)}))})]})}),Ae=function(e){var t=e.product,c=e.similarProducts,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,o=t.screen,d=t.resolution,b=t.processor,m=t.ram,O=t.capacity,p=t.priceRegular,f=t.priceDiscount,N=t.color,g=t.id,v=Object(r.useContext)(y),S=v.liked,k=v.setLiked,L=v.addedToCart,C=v.setAddedToCart,w=L.filter((function(e){return e===g})).length,P=Object(r.useState)(S.includes(g)),A=Object(l.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)(L.includes(g)),T=Object(l.a)(I,2),F=T[0],M=T[1],K=c.find((function(e){return e.phoneId===t.id})),B=c.filter((function(e){return e.color===N})).sort((function(e,t){return+e.capacity.slice(0,-2)-+t.capacity.slice(0,-2)})),z=c.filter((function(e){return e.capacity===O})).sort((function(e,t){return e.color.localeCompare(t.color)}));return Object(x.jsxs)("div",{className:"details-selects",children:[Object(x.jsxs)("div",{className:"details-selects__list",children:[Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(Pe,{title:"Available colors",similarProducts:z})}),Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(we,{title:"Select capacity",similarProducts:B})}),f!==p?Object(x.jsxs)("div",{className:"details-selects__prices",children:[Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)}),Object(x.jsx)("span",{className:"details-selects__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"details-selects__prices",children:Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)})}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button","aria-label":"button add",className:u()("selection-buttons__add",{"is-selected":F}),onClick:function(){_(g,L,C,h.Cart),M(!F),i(F?s-w:s+1)},children:F?"Added to card":"Add to sort"}),Object(x.jsx)("button",{type:"button","aria-label":"button like",className:u()("selection-buttons__like",{"is-selected":q}),onClick:function(){_(g,S,k,h.Like),E(!q),n(q?a-1:a+1)}})]}),Object(x.jsxs)("ul",{className:"details-selects__params",children:[Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"details-selects__param--value",children:o})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Resolution}),Object(x.jsx)("span",{className:"details-selects__param--value",children:d})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Processor}),Object(x.jsx)("span",{className:"details-selects__param--value",children:b})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"details-selects__param--value",children:m})]})]})]}),K&&Object(x.jsx)("div",{className:"details-selects__id",children:"ID: ".concat(K.id)})]})},qe=(c(59),function(e){var t=e.product.description;return Object(x.jsxs)("div",{className:"details-description",children:[Object(x.jsx)("h2",{className:"details-description__main-title",children:"About"}),Object(x.jsx)("div",{className:"details-description__content","data-cy":"productDescription",children:t.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("h3",{className:"details-description__small-title",children:e.title}),e.text.map((function(e){return Object(x.jsx)("div",{className:"details-description__paragraf",children:e},e.slice(0,20))}))]},e.title)}))})]})}),Ee=(c(60),function(e){var t=e.product,c=t.screen,a=t.resolution,n=t.processor,s=t.ram,i=t.capacity,r=t.camera,o=t.zoom,l=t.cell;return Object(x.jsxs)("div",{className:"details-tech-specs",children:[Object(x.jsx)("h2",{className:"title__h-two",children:"Tech specs"}),Object(x.jsxs)("ul",{className:"details-tech-specs__content",children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Screen}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:c})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Resolution}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:a})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Processor}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:n})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Ram}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:s})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Memory}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:i})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Camera}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:r})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Zoom}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:o})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Cell}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:l.join(", ")})]})]})]})}),Ie=(c(61),function(e){var t=e.getBack;return Object(x.jsxs)(s.b,{to:t(),className:"button-back","data-cy":"backButton",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]})}),Te=function(e){return{pathname:e?e.pathname:b.Phones,search:e?e.search:C}},Fe=function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),s=n[0],o=n[1],d=Object(r.useState)(c.length),u=Object(l.a)(d,2),j=u[0],m=u[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),N=Object(l.a)(f,2),g=N[0],v=N[1],S=Object(r.useState)(!1),k=Object(l.a)(S,2),L=k[0],w=k[1],P=Object(r.useState)([]),A=Object(l.a)(P,2),q=A[0],I=A[1],T=Object(r.useState)([]),F=Object(l.a)(T,2),M=F[0],K=F[1],B=Object(i.q)().productId,z=Object(i.m)().state;return Object(r.useEffect)((function(){B&&(w(!0),function(e){return U("/products/".concat(e,".json"))}(B).then(p).catch((function(e){return v(e)})).finally((function(){return w(!1)})))}),[B]),Object(r.useEffect)((function(){var e;_&&((e=_.namespaceId,Z().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)===t}))}(t,e)})).catch((function(e){throw e}))).then(I).catch((function(e){return v(e.message)})),function(e){return Z().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)!==t}))}(t,e)})).catch((function(e){throw e}))}(_.namespaceId).then(K).catch((function(e){return v(e)})))}),[_]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{quantityLiked:s,quantityAdded:j}),L&&Object(x.jsx)(V,{}),!L&&!!g.length&&Object(x.jsx)(ce,{text:g}),!L&&!g.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[_&&Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(le,{lastPoint:_.name,interimPoints:[{text:ae.Phones,link:b.Phones+C}]})}),Object(x.jsxs)("section",{className:"details-page",children:[Object(x.jsx)(Ie,{getBack:function(){return Te(z)}}),_?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"details-page__title",children:null===_||void 0===_?void 0:_.name}),Object(x.jsxs)("div",{className:"details-page__content",children:[Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(Ce,{product:_})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(Ae,{product:_,similarProducts:q,numLiked:s,onSetNumLiked:o,numAdded:j,onSetNumAdded:m})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(qe,{product:_})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(Ee,{product:_})})]})]}):Object(x.jsx)("p",{className:"details-page__paragraph",children:"Phone was not found"}),_&&Object(x.jsx)("div",{className:"details-page__slider",children:Object(x.jsx)(E,{title:R.MayLike,products:M,numLiked:s,onSetNumLiked:o,numAdded:j,onSetNumAdded:m})})]})]})}),!L&&Object(x.jsx)(te,{})]})},Me=(c(62),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),i=n[0],o=n[1],d=Object(r.useState)(c.length),j=Object(l.a)(d,2),b=j[0],m=j[1],O=Object(r.useState)([]),_=Object(l.a)(O,2),p=_[0],f=_[1],N=Object(r.useState)(""),g=Object(l.a)(N,2),v=g[0],S=g[1],k=Object(r.useState)(!1),L=Object(l.a)(k,2),C=L[0],w=L[1],P=Object(r.useState)(!1),A=Object(l.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(l.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)([]),B=Object(l.a)(K,2),z=B[0],$=B[1],D=Object(s.d)(),Q=Object(l.a)(D,1)[0].get(se.Query)||"";return Object(r.useEffect)((function(){w(!0),Z().then((function(e){return Y(e,h.Like)})).catch((function(e){throw e})).then(f).catch((function(e){return S(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(p.filter((function(e){return t.includes(e.phoneId)})))}),[p,i]),Object(r.useEffect)((function(){$(F.filter((function(e){var t=Q.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})))}),[Q,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{withSearchBy:J.Favourites,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(re,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),C&&Object(x.jsx)(V,{}),!C&&!!v.length&&Object(x.jsx)(ce,{text:v}),!C&&!v.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(le,{lastPoint:ae.Favourites})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Favourites}),Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ye,{allProducts:F.length,filteredProducts:z.length,queryLength:Q.length})}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ue,{products:z,numLiked:i,onSetNumLiked:o,numAdded:b,onSetNumAdded:m})})]})]})}),!C&&Object(x.jsx)(te,{})]})}),Ke=(c(63),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),o=n[0],d=n[1],j=Object(r.useState)(c.length),b=Object(l.a)(j,2),m=b[0],O=b[1],_=Object(r.useState)([]),p=Object(l.a)(_,2),f=p[0],N=p[1],g=Object(r.useState)(""),v=Object(l.a)(g,2),S=v[0],k=v[1],L=Object(r.useState)(!1),C=Object(l.a)(L,2),w=C[0],P=C[1],A=Object(r.useState)(!1),q=Object(l.a)(A,2),E=q[0],I=q[1],T=Object(r.useState)([]),F=Object(l.a)(T,2),M=F[0],K=F[1],B=Object(r.useState)(0),z=Object(l.a)(B,2),J=z[0],$=z[1],D=Object(r.useState)(!1),Q=Object(l.a)(D,2),H=Q[0],W=Q[1],G=Object(i.m)().state;return Object(r.useEffect)((function(){P(!0),Z().then((function(e){return Y(e,h.Cart)})).catch((function(e){throw e})).then(N).catch((function(e){return k(e.message)})).finally((function(){return P(!1)}))}),[]),Object(r.useEffect)((function(){K(f.filter((function(e){return c.includes(e.phoneId)})))}),[f,m]),Object(r.useEffect)((function(){var e=c.map((function(e){var t,c=null===(t=M.find((function(t){return t.phoneId===e})))||void 0===t?void 0:t.price;return c?+c:0})).reduce((function(e,t){return e+t}),0);$(e)}),[M]),Object(r.useEffect)((function(){E?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[E]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{withNavigate:!1,quantityLiked:o,quantityAdded:m,onSetIsMenu:I}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:E}),children:Object(x.jsx)(re,{quantityLiked:o,quantityAdded:m,onSetIsMenu:I})}),w&&Object(x.jsx)(V,{}),!w&&!!S.length&&Object(x.jsx)(ce,{text:S}),!w&&!S.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("main",{className:"container__content",children:Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsxs)(s.b,{to:Te(G),className:"button-back",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]}),Object(x.jsx)("div",{className:"cart-page__title",children:Object(x.jsx)("h1",{className:"title__biggest",children:R.Cart})}),Object(x.jsxs)("div",{className:"cart-page__content",children:[H&&Object(x.jsx)("p",{className:"cart-page__content--paragraph",children:"We are sorry, but this feature is not implemented yet."}),!H&&!M.length&&Object(x.jsx)("p",{className:"cart-page__content--paragraph",children:"Your cart is empty"}),!H&&!!M.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"cart-page__content--list",children:Object(x.jsx)(ue,{totalPrice:J,onSetTotalPrice:$,products:M,numLiked:o,onSetNumLiked:d,numAdded:m,onSetNumAdded:O})}),Object(x.jsxs)("div",{className:"cart-page__content--right",children:[Object(x.jsx)("h1",{className:"title__biggest cart-page__price",children:"$".concat(J)}),Object(x.jsx)("p",{className:"cart-page__paragraf","data-cy":"productQauntity",children:1===m?"Total for 1 item":"Total for ".concat(m," items")}),Object(x.jsx)("div",{className:"cart-page__button--container",children:Object(x.jsx)("button",{type:"button",className:"cart-page__button",disabled:0===m,onClick:function(){return W(!0)},children:"Checkout"})})]})]})]})]})})}),!w&&Object(x.jsx)(te,{})]})}),Be=(c(64),o.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(l.a)(a,2),i=n[0],o=n[1],d=Object(r.useState)(c.length),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),N=Object(l.a)(f,2),g=N[0],v=N[1],S=Object(r.useState)(!1),k=Object(l.a)(S,2),C=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(l.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(l.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(L),B=Object(l.a)(K,2),z=B[0],$=B[1],D=Object(s.d)(),Q=Object(l.a)(D,1)[0],H=Q.get(se.Query)||"",W=Q.get(se.Sort)||"",G=+(Q.get(se.ShownCards)||L),U=+(Q.get(se.PageNumber)||1),Y=F.length,Z=(+U-1)*G+1,ee=function(e){$(e*G>Y?Y:e*G)},ne=function(){if(W!==be.AgeKey&&W!==be.NameKey&&W!==be.PriceKey)return!1;if(G!==+be.NumberFour&&G!==+be.NumberEight&&G!==+be.NumberSixteen)return!1;var e=Math.ceil(Y/+G);return!Y||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),X(J.Accessories).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=H.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(W){case be.AgeKey:return t.year-e.year;case be.NameKey:return e.name.localeCompare(t.name);case be.PriceKey:return e.price-t.price;default:return 0}})))}),[W,H,_]),Object(r.useEffect)((function(){ee(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{withSearchBy:J.Accessories,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(re,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),C&&Object(x.jsx)(V,{}),!C&&!!g.length&&Object(x.jsx)(ce,{text:g}),!C&&!g.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(le,{lastPoint:ae.Accessories})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Accessories}),!_.length&&Object(x.jsx)(xe,{caterogy:R.Accessories}),!!_.length&&ne()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ye,{allProducts:_.length,filteredProducts:F.length,queryLength:H.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ve,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ue,{numLiked:i,onSetNumLiked:o,numAdded:b,onSetNumAdded:m,products:F.slice(Z-1,z)})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(pe,{totalPages:Y,onSetCurrentPage:ee})})]})]}),!ne()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Se,{caterogy:R.Accessories})})]})]})}),!C&&Object(x.jsx)(te,{})]})}))),ze=(c(65),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ie,{}),Object(x.jsx)("section",{className:"not-found-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("h3",{className:"not-found-page__title",children:"Page not found :("})})})]})}),Re=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(S,{children:Object(x.jsx)(i.d,{children:Object(x.jsxs)(i.b,{path:"/",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(oe,{})}),Object(x.jsx)(i.b,{path:"home",element:Object(x.jsx)(i.a,{to:"/",replace:!0})}),Object(x.jsxs)(i.b,{path:"phones",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(ke,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Fe,{})})]}),Object(x.jsxs)(i.b,{path:"tablets",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Le,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Fe,{})})]}),Object(x.jsxs)(i.b,{path:"accessories",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Be,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Fe,{})})]}),Object(x.jsx)(i.b,{path:"favourites",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Me,{})})}),Object(x.jsx)(i.b,{path:"shopping-bag",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Ke,{})})}),Object(x.jsx)(i.b,{path:"*",element:Object(x.jsx)(ze,{})})]})})})})};n.a.render(Object(x.jsx)(s.a,{children:Object(x.jsx)(Re,{})}),document.getElementById("root"))}]),[[66,1,2]]]);
//# sourceMappingURL=main.8cb47b2d.chunk.js.map