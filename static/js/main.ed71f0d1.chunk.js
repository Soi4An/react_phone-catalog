(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),s=c.n(a),n=c(5),r=c(4),i=(c(31),c(1)),l=c.n(i),o=c(2),d=(c(32),c(6)),u=c.n(d),j=(c(33),function(e){return e.Screen="Screen",e.Capacity="Capacity",e.Ram="RAM",e.Resolution="Resolution",e.Processor="Processor",e.Memory="Built in memory",e.Camera="Camera",e.Zoom="Zoom",e.Cell="Cell",e}({})),b=function(e){return e.Phones="/phones",e.Tablets="/tablets",e.Accessories="/accessories",e}({}),m=c(8),h=function(e){return e.Like="likedProducts",e.Cart="addedProducts",e}({}),O=function(e,t){var c=Object(m.a)(e);if(c.includes(t))for(;c.includes(t);)c.splice(c.indexOf(t),1);else c.push(t);return c};function p(e,t,c,a){c(O(t,e)),function(e,t){var c=localStorage.getItem(e),a=c?JSON.parse(c):[];localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(O(a,t)))}(a,e)}var _=function(e,t){var c=localStorage.getItem(h.Cart),a=c?JSON.parse(c):[];localStorage.removeItem(h.Cart),e?a.push(t):a.splice(a.indexOf(t),1),localStorage.setItem(h.Cart,JSON.stringify(a))},x=c(0),f=localStorage.getItem(h.Like),g=f?JSON.parse(f):[],N=localStorage.getItem(h.Cart),v=N?JSON.parse(N):[],y=l.a.createContext({liked:[],setLiked:function(){},addedToCart:[],setAddedToCart:function(){}}),S=function(e){var t=e.children,c=Object(i.useState)(g),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(i.useState)(v),l=Object(o.a)(r,2),d=l[0],u=l[1],j=Object(i.useMemo)((function(){return{liked:s,setLiked:n,addedToCart:d,setAddedToCart:u}}),[s,d]);return Object(x.jsx)(y.Provider,{value:j,children:t})},k="https://mate-academy.github.io/react_phone-catalog/_new",C=16,L="?sort=age&shown=16",w=function(e,t){return{pathname:e,search:t}},P=function(e){var t=e.product,c=e.numLiked,a=e.onSetNumLiked,s=e.numAdded,l=e.onSetNumAdded,d=t.image,m=t.name,O=t.price,_=t.fullPrice,f=t.screen,g=t.capacity,N=t.ram,v=t.phoneId,S=Object(i.useContext)(y),C=S.liked,L=S.setLiked,P=S.addedToCart,A=S.setAddedToCart,T=P.filter((function(e){return e===v})).length,q=Object(i.useState)(C.includes(v)),I=Object(o.a)(q,2),E=I[0],F=I[1],K=Object(i.useState)(P.includes(v)),R=Object(o.a)(K,2),M=R[0],W=R[1],Q=Object(r.m)(),z=Q.pathname,B=Q.search;return Object(x.jsxs)("div",{className:"product-card",children:[Object(x.jsx)(n.b,{to:"".concat(b.Phones,"/").concat(v),state:w(z,B),children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(d),alt:"".concat(k,"/").concat(d),className:"product-card__img"})}),Object(x.jsx)("div",{className:"product-card__name",children:m}),O!==_?Object(x.jsxs)("div",{className:"product-card__prices",children:[Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)}),Object(x.jsx)("span",{className:"product-card__price",children:"$".concat(_)})]}):Object(x.jsx)("div",{className:"product-card__prices",children:Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"product-card__param--value",children:f})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Capacity}),Object(x.jsx)("span",{className:"product-card__param--value",children:g})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"product-card__param--value",children:N})]})]}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button",className:u()("selection-buttons__add",{"is-selected":M}),onClick:function(){var e=h.Cart;p(v,P,A,e),W(!M),l(M?s-T:s+1)},children:M?"Added to card":"Add to card"}),Object(x.jsx)("button",{type:"button","aria-label":"like card",className:u()("selection-buttons__like",{"is-selected":E}),onClick:function(){p(v,C,L,h.Like),F(!E),a(E?c-1:c+1)},"data-cy":"addToFavorite"})]})]})},A=(c(35),function(e){return e.Next="next",e.Prev="prev",e.Empty="",e}(A||{})),T=l.a.memo((function(e){var t=e.title,c=e.quantityCards,a=e.widthItem,s=e.widthGap,n=e.products,r=e.numLiked,l=e.onSetNumLiked,d=e.numAdded,j=e.onSetNumAdded,b=Object(i.useState)(0),m=Object(o.a)(b,2),h=m[0],O=m[1],p=Object(i.useState)(A.Prev),_=Object(o.a)(p,2),f=_[0],g=_[1],N=1*(a+s),v=(n.length-c)*N*-1;return Object(x.jsxs)("div",{className:"slider",children:[Object(x.jsxs)("div",{className:"slider__top",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsxs)("div",{className:"slider__top--buttons-container",children:[Object(x.jsx)("button",{type:"button","aria-label":"scroll-left",title:"previous images",className:u()("slider__top--button","slider__top--button-left",{"is-disabled":f===A.Prev}),onClick:function(){g(h+N===0?A.Prev:A.Empty),O((function(e){return e+N}))},disabled:f===A.Prev}),Object(x.jsx)("button",{type:"button","aria-label":"scroll-right",title:"next images",className:u()("slider__top--button","slider__top--button-right",{"is-disabled":f===A.Next}),onClick:function(){g(h-N===v?A.Next:A.Empty),O((function(e){return e-N}))},disabled:f===A.Next})]})]}),Object(x.jsx)("div",{className:"slider__content",children:Object(x.jsx)("div",{className:"slider__images","data-cy":"cardsContainer",style:{transform:"translateX(".concat(h,"px)")},children:n.map((function(e){return Object(x.jsx)(P,{product:e,numLiked:r,onSetNumLiked:l,numAdded:d,onSetNumAdded:j},e.id)}))})})]})})),q=function(e){return e[e.QuantityCards=4]="QuantityCards",e[e.WidthCard=270]="WidthCard",e[e.WidthGap=14]="WidthGap",e}({}),I=(c(36),[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/banner-accessories.bdd2e0fc.png"]),E=I.length-1,F=1060,K=function(){var e=Object(i.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(i.useState)(0),n=Object(o.a)(s,2),r=n[0],l=n[1],d=Object(i.useState)(!1),j=Object(o.a)(d,2),b=j[0],m=j[1],h=0,O=function(){c===E?(a(0),l(0)):(a((function(e){return e+1})),l((function(e){return e-F})))};return Object(i.useEffect)((function(){return b||(h=window.setInterval((function(){return O()}),5e3)),function(){return clearInterval(h)}}),[c]),Object(x.jsxs)("div",{className:"carusel",children:[Object(x.jsxs)("div",{className:"carusel__top",children:[Object(x.jsx)("button",{onClick:function(){clearInterval(h),m(!0),0===c?(a(E),l(-1060*E)):(a((function(e){return e-1})),l((function(e){return e+F})))},type:"button","aria-label":"carusel prev image",title:"previous images",className:" carusel__button carusel__button--left "}),Object(x.jsx)("div",{className:"carusel__content",children:Object(x.jsx)("ul",{className:"carusel__list",style:{transform:"translateX(".concat(r,"px)")},children:I.map((function(e){return Object(x.jsx)("li",{className:"carusel__item",children:Object(x.jsx)("img",{src:e,alt:e,className:"carusel__img"})},e)}))})}),Object(x.jsx)("button",{type:"button","aria-label":"carusel next image",title:"next images",className:" carusel__button carusel__button--right ",onClick:function(){clearInterval(h),m(!0),O()}})]}),Object(x.jsx)("div",{className:"carusel__points",children:I.map((function(e){return Object(x.jsx)("div",{className:u()("carusel__point",{"is-selected":c===I.indexOf(e)})},e)}))})]})},R=(c(37),function(e){return e.WithDiscount="Hot prices",e.Categories="Shop by category",e.NewModels="Brand new models",e.Phones="Mobile phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Cart="Cart",e.MayLike="You may also like",e}({})),M=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e}({}),W=c.p+"static/media/category-phones.af93d992.png",Q=c.p+"static/media/category-tablets.51782e18.png",z=c.p+"static/media/category-accessories.e47d6d6d.png",B=[{link:M.Phones,name:R.Phones,photo:W},{link:M.Tablets,name:R.Tablets,photo:Q},{link:M.Accessories,name:R.Accessories,photo:z}],G=l.a.memo((function(e){var t=e.title,c=e.products,a=function(e){return c.filter((function(t){return t.category===e})).length};return Object(x.jsxs)("div",{className:"categories",children:[Object(x.jsx)("h1",{className:"title__biggest",children:t}),Object(x.jsx)("div",{className:"categories__content","data-cy":"categoryLinksContainer",children:B.map((function(e){var t=e.link,c=e.name,s=e.photo;return Object(x.jsxs)(n.b,{to:t+L,className:"categories__category",children:[Object(x.jsx)("div",{className:u()("categories__img--container","categories__category--".concat(t)),children:Object(x.jsx)("img",{className:"categories__img",src:s,alt:s})}),Object(x.jsx)("h3",{className:"categories__category--name",children:c}),Object(x.jsx)("div",{className:"categories__category--quantity",children:"".concat(a(t)," models")})]},c)}))})]})}));function J(e){return(t=500,new Promise((function(e){return setTimeout(e,t)}))).then((function(){return fetch(k+e)})).then((function(e){if(!e.ok){var t=e.status?" Response status = ".concat(e.status):"",c=e.statusText?" Status text = ".concat(e.statusText):"",a="Unable to connect from the server.\n          ".concat(t).concat(c);throw new Error(a)}return e.json()}));var t}var $=function(e){return J(e)},D=function(e,t){var c=localStorage.getItem(t),a=c?JSON.parse(c):[];return e.filter((function(e){return a.includes(e.phoneId)}))},H=function(){return $("/products.json")},U=function(e){return H().then((function(t){return function(e,t){return e.filter((function(e){return e.category===t}))}(t,e)})).catch((function(e){throw e}))},Y=(c(38),function(){return Object(x.jsx)("div",{className:"loader","data-cy":"loader",children:Object(x.jsx)("div",{className:"loader__content"})})}),Z=(c(39),c.p+"static/media/Logo.13ce922e.svg"),X=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(i.useEffect)((function(){var e=document.querySelector(".footer"),t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting||a(!1)}))}));return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[]),Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"footer__content",children:[Object(x.jsx)("a",{href:"/",className:"footer__nav-link",children:Object(x.jsx)("img",{src:Z,alt:"logo-img",className:"logo-img"})}),Object(x.jsx)("nav",{className:"nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(n.b,{to:"https://github.com/mate-academy/react_phone-catalog/pull/234",className:"footer__nav-link nav__link",children:"Github"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Contacts"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Rights"})})]})}),c?Object(x.jsx)("div",{}):Object(x.jsxs)("div",{className:"footer__button",children:["Back to top",Object(x.jsx)("button",{type:"button","aria-label":"scroll to top",className:"footer__button--link",onClick:function(){return window.scrollTo(0,0)}})]})]})})})},V=(c(40),function(e){var t=e.text;return Object(x.jsx)("div",{className:"err-mess",children:t})}),ee=(c(41),function(e){return e.Home="Home",e.Phones="Phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e}({}));function te(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var ce=function(e){return e.Sort="sort",e.ShownCards="shown",e.PageNumber="page",e.Query="query",e.Liked="liked",e.Added="added",e}({}),ae=function(e){var t=e.withNavigate,c=void 0===t||t,a=e.withSearch,s=void 0===a?"":a,l=e.quantityLiked,d=void 0===l?0:l,j=e.quantityAdded,m=void 0===j?0:j,h=Object(r.m)(),O=h.pathname,p=h.search,_=Object(n.d)(),f=Object(o.a)(_,2),g=f[0],N=f[1],v=g.get(ce.Query)||"",y=Object(i.useState)(v),S=Object(o.a)(y,2),k=S[0],C=S[1],P=function(e){var t=e.isActive;return u()("nav__link","header__nav-link",{"header__is-active":t})},A=Object(i.useCallback)(function(e,t){var c=0;return function(a){window.clearTimeout(c),c=window.setTimeout((function(){return e(a)}),t)}}((function(e){N(te(g,{query:e||null}))}),1e3),[]);return Object(x.jsxs)("header",{id:"header",className:"header",children:[Object(x.jsxs)("div",{className:"header__left",children:[Object(x.jsx)(n.b,{to:"/",className:"header__nav-link",children:Object(x.jsx)("img",{src:Z,alt:"logo-img",className:"logo-img"})}),c&&Object(x.jsx)("nav",{className:"nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(n.c,{to:"/",end:!0,className:P,children:ee.Home})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(n.c,{to:b.Phones+L,end:!0,className:P,children:ee.Phones})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(n.c,{to:b.Tablets+L,end:!0,className:P,children:ee.Tablets})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(n.c,{to:b.Accessories+L,end:!0,className:P,children:ee.Accessories})})]})})]}),Object(x.jsxs)("div",{className:"header__right",children:[s&&Object(x.jsxs)("div",{className:"header__form",children:[Object(x.jsx)("input",{className:"header__input",placeholder:"Search in ".concat(s,"..."),value:k,onChange:function(e){var t=e.target.value;C(t),A(t)}}),Object(x.jsx)("div",{className:"header__form--button",children:v.length?Object(x.jsx)("button",{type:"button","aria-label":"button delete query",onClick:function(){C(""),N(te(g,{query:null}))},className:"header__form--close","data-cy":"searchDelete"}):Object(x.jsx)("div",{className:"header__form--search"})})]}),Object(x.jsx)(n.c,{to:"/favourites",className:function(e){var t=e.isActive;return u()("header__square-link","header__favourites",{"header__is-active":t})},children:0!==d&&Object(x.jsx)("p",{className:"header__small-quantity",children:d})}),Object(x.jsx)(n.c,{to:"/shopping-bag",state:w(O,p),className:function(e){var t=e.isActive;return u()("header__square-link","header__shopping-bag",{"header__is-active":t})},children:0!==m&&Object(x.jsx)("p",{className:"header__small-quantity",children:m})})]})]})},se=l.a.memo((function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),n=s[0],r=s[1],l=Object(i.useState)(c.length),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)([]),m=Object(o.a)(b,2),h=m[0],O=m[1],p=Object(i.useState)(""),_=Object(o.a)(p,2),f=_[0],g=_[1],N=Object(i.useState)(!1),v=Object(o.a)(N,2),S=v[0],k=v[1],C=function(e){return e.filter((function(e){return e.fullPrice-e.price>0})).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))};return Object(i.useEffect)((function(){k(!0),H().then(O).catch((function(e){return g(e.message)})).finally((function(){k(!1)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{quantityLiked:n,quantityAdded:u}),S&&Object(x.jsx)(Y,{}),!S&&!!f.length&&Object(x.jsx)(V,{text:f}),!S&&!f.length&&Object(x.jsxs)("main",{id:"main",className:"home-page container",children:[Object(x.jsx)("div",{className:"home-page__carusel",children:Object(x.jsx)(K,{})}),Object(x.jsx)(T,{title:R.WithDiscount,quantityCards:q.QuantityCards,widthItem:q.WidthCard,widthGap:q.WidthGap,products:C(h),numLiked:n,onSetNumLiked:r,numAdded:u,onSetNumAdded:j}),Object(x.jsx)(G,{title:R.Categories,products:h}),Object(x.jsx)(T,{title:R.NewModels,quantityCards:q.QuantityCards,widthItem:q.WidthCard,widthGap:q.WidthGap,products:C(h).reverse(),numLiked:n,onSetNumLiked:r,numAdded:u,onSetNumAdded:j})]}),!S&&Object(x.jsx)(X,{})]})})),ne=(c(42),c(43),function(e){var t=e.lastPoint,c=e.interimPoints;return Object(x.jsxs)("div",{className:"way","data-cy":"breadCrumbs",children:[Object(x.jsx)(n.b,{to:"/","aria-label":"to home",title:"go to home",className:"way__home way__icon16"}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"}),!!c&&c.map((function(e){return Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(n.b,{to:e.link,className:"way__name way__link",children:e.text}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"})]},e.link)})),Object(x.jsx)("p",{className:"way__name",children:t})]})}),re=(c(44),c(45),function(e){var t=e.product,c=e.totalPrice,a=e.onSetTotalPrice,s=e.numAdded,n=e.onSetNumAdded,r=t.image,l=t.name,d=t.price,j=t.phoneId,b=Object(i.useContext)(y),O=b.addedToCart,f=b.setAddedToCart,g=Object(i.useState)((function(){return O.filter((function(e){return e===j})).length})),N=Object(o.a)(g,2),v=N[0],S=N[1];return Object(x.jsxs)("div",{className:"horizont-card",children:[Object(x.jsxs)("div",{className:"horizont-card__left",children:[Object(x.jsx)("button",{type:"button",className:"horizont-card__close",onClick:function(){p(j,O,f,h.Cart),n(s-v),a(c-d*v)},"data-cy":"cartDeleteButton",children:"\xd7"}),Object(x.jsx)("div",{className:"horizont-card__image--container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(r),alt:"".concat(k,"/").concat(r),className:"horizont-card__image"})}),Object(x.jsx)("div",{className:"product-card__name",children:l})]}),Object(x.jsxs)("div",{className:"horizont-card__right",children:[Object(x.jsxs)("div",{className:"horizont-card__pagination",children:[Object(x.jsx)("button",{type:"button",className:u()("horizont-card__pagination--button",{"is-disabled":1===v}),disabled:1===v,onClick:function(){S((function(e){return e-1}));var e=O.indexOf(j),t=Object(m.a)(O);t.splice(e,1),f(t),_(!1,j),a(c-d),n(s-1)},children:"\u2013"}),Object(x.jsx)("span",{className:"horizont-card__pagination--number",children:v}),Object(x.jsx)("button",{type:"button",className:"horizont-card__pagination--button",disabled:!1,onClick:function(){S((function(e){return e+1})),f([].concat(Object(m.a)(O),[j])),_(!0,j),a(c+d),n(s+1)},children:"+"})]}),Object(x.jsx)("h2",{className:"title__h-two",children:"$".concat(d)})]})]})}),ie=function(e){var t=e.totalPrice,c=e.onSetTotalPrice,a=void 0===c?function(){}:c,s=e.products,n=e.numLiked,r=e.onSetNumLiked,i=e.numAdded,l=e.onSetNumAdded;return Object(x.jsx)("ul",{className:"product-list","data-cy":"productList",children:s.map((function(e){return Object(x.jsx)("li",{className:u()({"product-list__item":t}),children:t?Object(x.jsx)(re,{product:e,totalPrice:t,onSetTotalPrice:a,numAdded:i,onSetNumAdded:l}):Object(x.jsx)(P,{product:e,numLiked:n,onSetNumLiked:r,numAdded:i,onSetNumAdded:l})},e.id)}))})},le=c(7),oe=(c(46),function(e){return e.AgeName="Newest",e.AgeKey="age",e.NameName="Alphabetically",e.NameKey="name",e.PriceName="Cheapest",e.PriceKey="price",e.NumberFour="4",e.NumberEight="8",e.NumberSixteen="16",e.AllKey="all",e.AllName="All",e}({})),de=c(24),ue=c(26),je=["children","params"],be=function(e){var t=e.children,c=e.params,a=Object(ue.a)(e,je),s=Object(n.d)(),r=Object(o.a)(s,1)[0];return Object(x.jsx)(n.b,Object(de.a)(Object(de.a)({to:{search:te(r,c)}},a),{},{children:t}))},me=function(e){for(var t=e.totalPages,c=e.onSetCurrentPage,a=Object(i.useState)(!0),s=Object(o.a)(a,2),r=s[0],l=s[1],d=Object(i.useState)(!1),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(n.d)(),O=Object(o.a)(h,1)[0],p=+(O.get(ce.ShownCards)||oe.NumberSixteen),_=+(O.get(ce.PageNumber)||1),f=Math.ceil(t/+p),g=[],N=1;N<=f;N+=1)g.push(N);return Object(i.useEffect)((function(){l(1===_),m(_===f)}),[_]),Object(x.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(x.jsx)("li",{className:"pagination__item",children:r?Object(x.jsx)("span",{className:"pagination__link disabled",children:"<"}):Object(x.jsx)(be,{className:"pagination__link","data-cy":"paginationLeft",params:Object(le.a)({},ce.PageNumber,(_-1).toString()),onClick:function(){return c(_-1)},children:"<"})}),g.map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(be,{className:u()("pagination__link",{active:_===e}),params:Object(le.a)({},ce.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:b?Object(x.jsx)("span",{className:"pagination__link disabled",children:">"}):Object(x.jsx)(be,{className:"pagination__link","data-cy":"paginationRight",params:Object(le.a)({},ce.PageNumber,(_+1).toString()),onClick:function(){return c(_+1)},children:">"})})]})},he=(c(47),function(e){var t=e.caterogy;return Object(x.jsx)("section",{className:"no-results",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found")})})})}),Oe=(c(48),function(e){var t,c=e.options,a=e.searchParam,s=Object(i.useState)(!1),r=Object(o.a)(s,2),l=r[0],d=r[1],j=Object(n.d)(),b=Object(o.a)(j,1)[0].get(a)||"",m=Object(i.useRef)(null),h=function(){d((function(e){return!e}))},O=function(e){var t,c=e.target;!m.current||null!==(t=m.current)&&void 0!==t&&t.contains(c)||d(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",O,!0),function(){document.removeEventListener("click",O,!0)}}),[]),Object(x.jsxs)("div",{className:"select",ref:m,children:[Object(x.jsxs)("button",{type:"button",className:"select__button",onClick:h,children:[Object(x.jsx)("p",{children:(null===(t=c.find((function(e){return e.key===b})))||void 0===t?void 0:t.name)||"Choose param"}),Object(x.jsx)("div",{className:u()("select__arrow",{"arrow-top":l})})]}),Object(x.jsx)("div",{className:"select__options",children:l&&c.map((function(e){var t,c=e.key,s=e.name;return Object(x.jsx)(be,{params:(t={},Object(le.a)(t,a,c),Object(le.a)(t,ce.PageNumber,"".concat(1)),t),className:"select__button select__option",onClick:h,children:s},c)}))})]})}),pe=(c(49),[{key:oe.AgeKey,name:oe.AgeName},{key:oe.NameKey,name:oe.NameName},{key:oe.PriceKey,name:oe.PriceName}]),_e=[{key:oe.NumberFour,name:oe.NumberFour},{key:oe.NumberEight,name:oe.NumberEight},{key:oe.NumberSixteen,name:oe.NumberSixteen}],xe=function(){return Object(x.jsxs)("div",{className:"phones-filter",children:[Object(x.jsxs)("div",{className:"phones-filter__sort",children:[Object(x.jsx)("p",{children:"Sort by"}),Object(x.jsx)(Oe,{options:pe,searchParam:ce.Sort})]}),Object(x.jsxs)("div",{className:"phones-filter__quantity-items",children:[Object(x.jsx)("p",{children:"Items on page"}),Object(x.jsx)(Oe,{options:_e,searchParam:ce.ShownCards})]})]})},fe=(c(50),function(e){var t=e.allProducts,c=e.filteredProducts,a=void 0===c?0:c,s=e.queryLength,n=void 0===s?0:s,r=e.productName,i=void 0===r?"item":r,l=function(e){return 1===e?"1 ".concat(i):"".concat(e," ").concat(i,"s")};return Object(x.jsxs)(x.Fragment,{children:[!t&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"You do not have selected products..."}),!!t&&!n&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:l(t)}),!!t&&!!n&&!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"Search have not givien results"}),!!t&&!!n&&!!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"".concat(l(a)," of ").concat(l(t))})]})}),ge=(c(51),function(e){var t=e.caterogy;return Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found for the current query")})}),Ne=l.a.memo((function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),r=s[0],l=s[1],d=Object(i.useState)(c.length),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),h=Object(o.a)(m,2),O=h[0],p=h[1],_=Object(i.useState)(""),f=Object(o.a)(_,2),g=f[0],N=f[1],v=Object(i.useState)(!1),S=Object(o.a)(v,2),k=S[0],L=S[1],w=Object(i.useState)([]),P=Object(o.a)(w,2),A=P[0],T=P[1],q=Object(i.useState)(C),I=Object(o.a)(q,2),E=I[0],F=I[1],K=Object(n.d)(),W=Object(o.a)(K,1)[0],Q=W.get(ce.Query)||"",z=W.get(ce.Sort)||"",B=+(W.get(ce.ShownCards)||C),G=+(W.get(ce.PageNumber)||1),J=A.length,$=(+G-1)*B+1,D=function(e){F(e*B>J?J:e*B)},H=function(){if(z!==oe.AgeKey&&z!==oe.NameKey&&z!==oe.PriceKey)return!1;if(B!==+oe.NumberFour&&B!==+oe.NumberEight&&B!==+oe.NumberSixteen)return!1;var e=Math.ceil(J/+B);return!J||!(G<1||G>e)};return Object(i.useEffect)((function(){L(!0),U(M.Phones).then((function(e){p(e),T(e)})).catch((function(e){return N(e.message)})).finally((function(){return L(!1)}))}),[]),Object(i.useEffect)((function(){T(O.filter((function(e){var t=Q.trim().toLocaleLowerCase(),c=e.name,a=e.category,s=e.color,n=e.capacity,r=e.screen,i=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||r.toLocaleLowerCase().includes(t)||i.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(z){case oe.AgeKey:return t.year-e.year;case oe.NameKey:return e.name.localeCompare(t.name);case oe.PriceKey:return e.price-t.price;default:return 0}})))}),[z,Q,O]),Object(i.useEffect)((function(){D(G)}),[B,A]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearch:M.Phones,quantityLiked:r,quantityAdded:j}),k&&Object(x.jsx)(Y,{}),!k&&!!g.length&&Object(x.jsx)(V,{text:g}),!k&&!g.length&&Object(x.jsxs)("main",{id:"main",className:"container",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ne,{lastPoint:ee.Phones})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Phones}),!O.length&&Object(x.jsx)(he,{caterogy:R.Tablets}),!!O.length&&H()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(fe,{allProducts:O.length,filteredProducts:A.length,queryLength:Q.length,productName:"model"})}),!!A.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(xe,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ie,{numLiked:r,onSetNumLiked:l,numAdded:j,onSetNumAdded:b,products:A.slice($-1,E)})}),A.length>B&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(me,{totalPages:J,onSetCurrentPage:D})})]})]}),!H()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ge,{caterogy:R.Phones})})]})]}),!k&&Object(x.jsx)(X,{})]})})),ve=(c(52),l.a.memo((function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),r=s[0],l=s[1],d=Object(i.useState)(c.length),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),h=Object(o.a)(m,2),O=h[0],p=h[1],_=Object(i.useState)(""),f=Object(o.a)(_,2),g=f[0],N=f[1],v=Object(i.useState)(!1),S=Object(o.a)(v,2),k=S[0],L=S[1],w=Object(i.useState)([]),P=Object(o.a)(w,2),A=P[0],T=P[1],q=Object(i.useState)(C),I=Object(o.a)(q,2),E=I[0],F=I[1],K=Object(n.d)(),W=Object(o.a)(K,1)[0],Q=W.get(ce.Query)||"",z=W.get(ce.Sort)||"",B=+(W.get(ce.ShownCards)||C),G=+(W.get(ce.PageNumber)||1),J=A.length,$=(+G-1)*B+1,D=function(e){F(e*B>J?J:e*B)},H=function(){if(z!==oe.AgeKey&&z!==oe.NameKey&&z!==oe.PriceKey)return!1;if(B!==+oe.NumberFour&&B!==+oe.NumberEight&&B!==+oe.NumberSixteen)return!1;var e=Math.ceil(J/+B);return!J||!(G<1||G>e)};return Object(i.useEffect)((function(){L(!0),U(M.Tablets).then((function(e){p(e),T(e)})).catch((function(e){return N(e.message)})).finally((function(){return L(!1)}))}),[]),Object(i.useEffect)((function(){T(O.filter((function(e){var t=Q.trim().toLocaleLowerCase(),c=e.name,a=e.category,s=e.color,n=e.capacity,r=e.screen,i=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||r.toLocaleLowerCase().includes(t)||i.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(z){case oe.AgeKey:return t.year-e.year;case oe.NameKey:return e.name.localeCompare(t.name);case oe.PriceKey:return e.price-t.price;default:return 0}})))}),[z,Q,O]),Object(i.useEffect)((function(){D(G)}),[B,A]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearch:M.Tablets,quantityLiked:r,quantityAdded:j}),k&&Object(x.jsx)(Y,{}),!k&&!!g.length&&Object(x.jsx)(V,{text:g}),!k&&!g.length&&Object(x.jsxs)("main",{id:"main",className:"container",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ne,{lastPoint:ee.Tablets})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Tablets}),!O.length&&Object(x.jsx)(he,{caterogy:R.Tablets}),!!O.length&&H()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(fe,{allProducts:O.length,filteredProducts:A.length,queryLength:Q.length,productName:"model"})}),!!A.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(xe,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ie,{numLiked:r,onSetNumLiked:l,numAdded:j,onSetNumAdded:b,products:A.slice($-1,E)})}),A.length>B&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(me,{totalPages:J,onSetCurrentPage:D})})]})]}),!H()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ge,{caterogy:R.Tablets})})]})]}),!k&&Object(x.jsx)(X,{})]})}))),ye=(c(53),c(54),function(e){var t=e.product.images,c=Object(i.useState)(t[0]),a=Object(o.a)(c,2),s=a[0],n=a[1];return Object(x.jsxs)("div",{className:"details-images",children:[Object(x.jsx)("div",{className:"details-images__small-images",children:t.map((function(e){return Object(x.jsx)("button",{type:"button",className:u()("small-image__container",{"is-active":e===s}),onClick:function(){return n(e)},children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(e),alt:"".concat(k,"/").concat(e),className:"small-image"})},e)}))}),Object(x.jsx)("div",{className:"details-images__main-img-container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(s),alt:"".concat(k,"/").concat(s),className:"details-images__main-img"})})]})}),Se=(c(55),c(56),function(e){var t=e.title,c=e.similarProducts,a=Object(r.m)(),s=a.pathname,i=a.search,l=function(e){var t=e.isActive;return u()("select-capacity__link",{"is-active":t})};return Object(x.jsxs)("div",{className:"select-capacity",children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-capacity__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(n.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:w(s,i),className:l,children:"".concat(e.capacity.slice(0,-2)," GB")})},e.id)}))})]})}),ke=(c(57),function(e){var t=e.title,c=e.similarProducts,a=Object(r.m)(),s=a.pathname,i=a.search;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-colors__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(n.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:w(s,i),className:function(t){return function(e,t){return u()("select-colors__link","select-colors__color-".concat(t),{"is-active":e})}(t.isActive,e.color)}})},e.id)}))})]})}),Ce=function(e){var t=e.product,c=e.similarProducts,a=e.numLiked,s=e.onSetNumLiked,n=e.numAdded,r=e.onSetNumAdded,l=t.screen,d=t.resolution,b=t.processor,m=t.ram,O=t.capacity,_=t.priceRegular,f=t.priceDiscount,g=t.color,N=t.id,v=Object(i.useContext)(y),S=v.liked,k=v.setLiked,C=v.addedToCart,L=v.setAddedToCart,w=C.filter((function(e){return e===N})).length,P=Object(i.useState)(S.includes(N)),A=Object(o.a)(P,2),T=A[0],q=A[1],I=Object(i.useState)(C.includes(N)),E=Object(o.a)(I,2),F=E[0],K=E[1],R=c.find((function(e){return e.phoneId===t.id})),M=c.filter((function(e){return e.color===g})).sort((function(e,t){return+e.capacity.slice(0,-2)-+t.capacity.slice(0,-2)})),W=c.filter((function(e){return e.capacity===O})).sort((function(e,t){return e.color.localeCompare(t.color)}));return Object(x.jsxs)("div",{className:"details-selects",children:[Object(x.jsxs)("div",{className:"details-selects__list",children:[Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(ke,{title:"Available colors",similarProducts:W})}),Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(Se,{title:"Select capacity",similarProducts:M})}),f!==_?Object(x.jsxs)("div",{className:"details-selects__prices",children:[Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)}),Object(x.jsx)("span",{className:"details-selects__price",children:"$".concat(_)})]}):Object(x.jsx)("div",{className:"details-selects__prices",children:Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)})}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button","aria-label":"button add",className:u()("selection-buttons__add",{"is-selected":F}),onClick:function(){p(N,C,L,h.Cart),K(!F),r(F?n-w:n+1)},children:F?"Added to card":"Add to sort"}),Object(x.jsx)("button",{type:"button","aria-label":"button like",className:u()("selection-buttons__like",{"is-selected":T}),onClick:function(){p(N,S,k,h.Like),q(!T),s(T?a-1:a+1)}})]}),Object(x.jsxs)("ul",{className:"details-selects__params",children:[Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"details-selects__param--value",children:l})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Resolution}),Object(x.jsx)("span",{className:"details-selects__param--value",children:d})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Processor}),Object(x.jsx)("span",{className:"details-selects__param--value",children:b})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"details-selects__param--value",children:m})]})]})]}),R&&Object(x.jsx)("div",{className:"details-selects__id",children:"ID: ".concat(R.id)})]})},Le=(c(58),function(e){var t=e.product.description;return Object(x.jsxs)("div",{className:"details-description",children:[Object(x.jsx)("h2",{className:"details-description__main-title",children:"About"}),Object(x.jsx)("div",{className:"details-description__content","data-cy":"productDescription",children:t.map((function(e){return Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)("h3",{className:"details-description__small-title",children:e.title}),e.text.map((function(e){return Object(x.jsx)("div",{className:"details-description__paragraf",children:e},e.slice(0,20))}))]},e.title)}))})]})}),we=(c(59),function(e){var t=e.product,c=t.screen,a=t.resolution,s=t.processor,n=t.ram,r=t.capacity,i=t.camera,l=t.zoom,o=t.cell;return Object(x.jsxs)("div",{className:"details-tech-specs",children:[Object(x.jsx)("h2",{className:"title__h-two",children:"Tech specs"}),Object(x.jsxs)("ul",{className:"details-tech-specs__content",children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Screen}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:c})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Resolution}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:a})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Processor}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:s})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Ram}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:n})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Memory}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:r})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Camera}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:i})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Zoom}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:l})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{children:j.Cell}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:o.join(", ")})]})]})]})}),Pe=(c(60),function(e){var t=e.getBack;return Object(x.jsxs)(n.b,{to:t(),className:"button-back","data-cy":"backButton",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]})}),Ae=function(e){return{pathname:e?e.pathname:b.Phones,search:e?e.search:L}},Te=function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),n=s[0],l=s[1],d=Object(i.useState)(c.length),u=Object(o.a)(d,2),j=u[0],m=u[1],h=Object(i.useState)(null),O=Object(o.a)(h,2),p=O[0],_=O[1],f=Object(i.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(i.useState)(!1),k=Object(o.a)(S,2),C=k[0],w=k[1],P=Object(i.useState)([]),A=Object(o.a)(P,2),I=A[0],E=A[1],F=Object(i.useState)([]),K=Object(o.a)(F,2),M=K[0],W=K[1],Q=Object(r.q)().productId,z=Object(r.m)().state;return Object(i.useEffect)((function(){Q&&(w(!0),function(e){return $("/products/".concat(e,".json"))}(Q).then(_).catch((function(e){return v(e)})).finally((function(){return w(!1)})))}),[Q]),Object(i.useEffect)((function(){var e;p&&((e=p.namespaceId,H().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,s=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),n=a.indexOf(s)-1;return a.slice(0,n)===t}))}(t,e)})).catch((function(e){throw e}))).then(E).catch((function(e){return v(e.message)})),function(e){return H().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,s=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),n=a.indexOf(s)-1;return a.slice(0,n)!==t}))}(t,e)})).catch((function(e){throw e}))}(p.namespaceId).then(W).catch((function(e){return v(e)})))}),[p]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{quantityLiked:n,quantityAdded:j}),C&&Object(x.jsx)(Y,{}),!C&&!!N.length&&Object(x.jsx)(V,{text:N}),!C&&!N.length&&Object(x.jsxs)("main",{id:"main",className:"container",children:[p&&Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ne,{lastPoint:p.name,interimPoints:[{text:ee.Phones,link:b.Phones+L}]})}),Object(x.jsxs)("section",{className:"details-page",children:[Object(x.jsx)(Pe,{getBack:function(){return Ae(z)}}),p?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"details-page__title",children:null===p||void 0===p?void 0:p.name}),Object(x.jsxs)("div",{className:"details-page__content",children:[Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(ye,{product:p})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(Ce,{product:p,similarProducts:I,numLiked:n,onSetNumLiked:l,numAdded:j,onSetNumAdded:m})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(Le,{product:p})}),Object(x.jsx)("div",{className:"details-page__section",children:Object(x.jsx)(we,{product:p})})]})]}):Object(x.jsx)("p",{className:"details-page__paragraph",children:"Phone was not found"}),p&&Object(x.jsx)("div",{className:"details-page__slider",children:Object(x.jsx)(T,{title:R.MayLike,quantityCards:q.QuantityCards,widthItem:q.WidthCard,widthGap:q.WidthGap,products:M,numLiked:n,onSetNumLiked:l,numAdded:j,onSetNumAdded:m})})]})]}),!C&&Object(x.jsx)(X,{})]})},qe=(c(61),function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),r=s[0],l=s[1],d=Object(i.useState)(c.length),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),O=Object(o.a)(m,2),p=O[0],_=O[1],f=Object(i.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(i.useState)(!1),k=Object(o.a)(S,2),C=k[0],L=k[1],w=Object(i.useState)([]),P=Object(o.a)(w,2),A=P[0],T=P[1],q=Object(i.useState)([]),I=Object(o.a)(q,2),E=I[0],F=I[1],K=Object(n.d)(),W=Object(o.a)(K,1)[0].get(ce.Query)||"";return Object(i.useEffect)((function(){L(!0),H().then((function(e){return D(e,h.Like)})).catch((function(e){throw e})).then(_).catch((function(e){return v(e.message)})).finally((function(){return L(!1)}))}),[]),Object(i.useEffect)((function(){T(p.filter((function(e){return t.includes(e.phoneId)})))}),[p,r]),Object(i.useEffect)((function(){F(A.filter((function(e){var t=W.trim().toLocaleLowerCase(),c=e.name,a=e.category,s=e.color,n=e.capacity,r=e.screen,i=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||r.toLocaleLowerCase().includes(t)||i.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})))}),[W,A]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearch:M.Favourites,quantityLiked:r,quantityAdded:j}),C&&Object(x.jsx)(Y,{}),!C&&!!N.length&&Object(x.jsx)(V,{text:N}),!C&&!N.length&&Object(x.jsxs)("main",{id:"main",className:"container",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ne,{lastPoint:ee.Favourites})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Favourites}),Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(fe,{allProducts:A.length,filteredProducts:E.length,queryLength:W.length})}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ie,{products:E,numLiked:r,onSetNumLiked:l,numAdded:j,onSetNumAdded:b})})]})]}),!C&&Object(x.jsx)(X,{})]})}),Ie=(c(62),function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),l=s[0],d=s[1],u=Object(i.useState)(c.length),j=Object(o.a)(u,2),b=j[0],m=j[1],O=Object(i.useState)([]),p=Object(o.a)(O,2),_=p[0],f=p[1],g=Object(i.useState)(""),N=Object(o.a)(g,2),v=N[0],S=N[1],k=Object(i.useState)(!1),C=Object(o.a)(k,2),L=C[0],w=C[1],P=Object(i.useState)([]),A=Object(o.a)(P,2),T=A[0],q=A[1],I=Object(i.useState)(0),E=Object(o.a)(I,2),F=E[0],K=E[1],M=Object(i.useState)(!1),W=Object(o.a)(M,2),Q=W[0],z=W[1],B=Object(r.m)().state;return Object(i.useEffect)((function(){w(!0),H().then((function(e){return D(e,h.Cart)})).catch((function(e){throw e})).then(f).catch((function(e){return S(e.message)})).finally((function(){return w(!1)}))}),[]),Object(i.useEffect)((function(){q(_.filter((function(e){return c.includes(e.phoneId)})))}),[_,b]),Object(i.useEffect)((function(){var e=c.map((function(e){var t,c=null===(t=T.find((function(t){return t.phoneId===e})))||void 0===t?void 0:t.price;return c?+c:0})).reduce((function(e,t){return e+t}),0);K(e)}),[T]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withNavigate:!1,quantityLiked:l,quantityAdded:b}),L&&Object(x.jsx)(Y,{}),!L&&!!v.length&&Object(x.jsx)(V,{text:v}),!L&&!v.length&&Object(x.jsx)("main",{id:"main",className:"container",children:Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsxs)(n.b,{to:Ae(B),className:"button-back",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]}),Object(x.jsx)("div",{className:"cart-page__title",children:Object(x.jsx)("h1",{className:"title__biggest",children:R.Cart})}),Object(x.jsxs)("div",{className:"cart-page__content",children:[Q&&Object(x.jsx)("p",{className:"cart-page__content--paragraph",children:"We are sorry, but this feature is not implemented yet."}),!Q&&!T.length&&Object(x.jsx)("p",{className:"cart-page__content--paragraph",children:"Your cart is empty"}),!Q&&!!T.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"cart-page__content--list",children:Object(x.jsx)(ie,{totalPrice:F,onSetTotalPrice:K,products:T,numLiked:l,onSetNumLiked:d,numAdded:b,onSetNumAdded:m})}),Object(x.jsxs)("div",{className:"cart-page__content--right",children:[Object(x.jsx)("h1",{className:"title__biggest cart-page__price",children:"$".concat(F)}),Object(x.jsx)("p",{className:"cart-page__paragraf","data-cy":"productQauntity",children:1===b?"Total for 1 item":"Total for ".concat(b," items")}),Object(x.jsx)("div",{className:"cart-page__button--container",children:Object(x.jsx)("button",{type:"button",className:"cart-page__button",disabled:0===b,onClick:function(){return z(!0)},children:"Checkout"})})]})]})]})]})}),!L&&Object(x.jsx)(X,{})]})}),Ee=(c(63),l.a.memo((function(){var e=Object(i.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(i.useState)(t.length),s=Object(o.a)(a,2),r=s[0],l=s[1],d=Object(i.useState)(c.length),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),h=Object(o.a)(m,2),O=h[0],p=h[1],_=Object(i.useState)(""),f=Object(o.a)(_,2),g=f[0],N=f[1],v=Object(i.useState)(!1),S=Object(o.a)(v,2),k=S[0],L=S[1],w=Object(i.useState)([]),P=Object(o.a)(w,2),A=P[0],T=P[1],q=Object(i.useState)(C),I=Object(o.a)(q,2),E=I[0],F=I[1],K=Object(n.d)(),W=Object(o.a)(K,1)[0],Q=W.get(ce.Query)||"",z=W.get(ce.Sort)||"",B=+(W.get(ce.ShownCards)||C),G=+(W.get(ce.PageNumber)||1),J=A.length,$=(+G-1)*B+1,D=function(e){F(e*B>J?J:e*B)},H=function(){if(z!==oe.AgeKey&&z!==oe.NameKey&&z!==oe.PriceKey)return!1;if(B!==+oe.NumberFour&&B!==+oe.NumberEight&&B!==+oe.NumberSixteen)return!1;var e=Math.ceil(J/+B);return!J||!(G<1||G>e)};return Object(i.useEffect)((function(){L(!0),U(M.Accessories).then((function(e){p(e),T(e)})).catch((function(e){return N(e.message)})).finally((function(){return L(!1)}))}),[]),Object(i.useEffect)((function(){T(O.filter((function(e){var t=Q.trim().toLocaleLowerCase(),c=e.name,a=e.category,s=e.color,n=e.capacity,r=e.screen,i=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||r.toLocaleLowerCase().includes(t)||i.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(z){case oe.AgeKey:return t.year-e.year;case oe.NameKey:return e.name.localeCompare(t.name);case oe.PriceKey:return e.price-t.price;default:return 0}})))}),[z,Q,O]),Object(i.useEffect)((function(){D(G)}),[B,A]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{withSearch:M.Accessories,quantityLiked:r,quantityAdded:j}),k&&Object(x.jsx)(Y,{}),!k&&!!g.length&&Object(x.jsx)(V,{text:g}),!k&&!g.length&&Object(x.jsxs)("main",{id:"main",className:"container",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(ne,{lastPoint:ee.Accessories})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:R.Accessories}),!O.length&&Object(x.jsx)(he,{caterogy:R.Accessories}),!!O.length&&H()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(fe,{allProducts:O.length,filteredProducts:A.length,queryLength:Q.length,productName:"model"})}),!!A.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(xe,{}),Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(ie,{numLiked:r,onSetNumLiked:l,numAdded:j,onSetNumAdded:b,products:A.slice($-1,E)})}),A.length>B&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(me,{totalPages:J,onSetCurrentPage:D})})]})]}),!H()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ge,{caterogy:R.Accessories})})]})]}),!k&&Object(x.jsx)(X,{})]})}))),Fe=(c(64),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ae,{}),Object(x.jsx)("section",{className:"not-found-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("h3",{className:"not-found-page__title",children:"Page not found :("})})})]})}),Ke=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(S,{children:Object(x.jsx)(r.d,{children:Object(x.jsxs)(r.b,{path:"/",children:[Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(se,{})}),Object(x.jsx)(r.b,{path:"home",element:Object(x.jsx)(r.a,{to:"/",replace:!0})}),Object(x.jsxs)(r.b,{path:"phones",children:[Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(Ne,{})}),Object(x.jsx)(r.b,{path:":productId",element:Object(x.jsx)(Te,{})})]}),Object(x.jsxs)(r.b,{path:"tablets",children:[Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(ve,{})}),Object(x.jsx)(r.b,{path:":productId",element:Object(x.jsx)(Te,{})})]}),Object(x.jsxs)(r.b,{path:"accessories",children:[Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(Ee,{})}),Object(x.jsx)(r.b,{path:":productId",element:Object(x.jsx)(Te,{})})]}),Object(x.jsx)(r.b,{path:"favourites",children:Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(qe,{})})}),Object(x.jsx)(r.b,{path:"shopping-bag",children:Object(x.jsx)(r.b,{index:!0,element:Object(x.jsx)(Ie,{})})}),Object(x.jsx)(r.b,{path:"*",element:Object(x.jsx)(Fe,{})})]})})})})};s.a.render(Object(x.jsx)(n.a,{children:Object(x.jsx)(Ke,{})}),document.getElementById("root"))}]),[[65,1,2]]]);
//# sourceMappingURL=main.ed71f0d1.chunk.js.map