(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),n=c.n(a),s=c(5),i=c(4),r=(c(31),c(1)),l=c.n(r),o=c(2),d=(c(32),c(6)),u=c.n(d),j=(c(33),function(e){return e.Screen="Screen",e.Capacity="Capacity",e.Ram="RAM",e.Resolution="Resolution",e.Processor="Processor",e.Memory="Built in memory",e.Camera="Camera",e.Zoom="Zoom",e.Cell="Cell",e}({})),b=function(e){return e.Phones="/phones",e.Tablets="/tablets",e.Accessories="/accessories",e.Favourites="/favourites",e.Cart="/shopping-bag",e}({}),m=c(8),h=function(e){return e.Like="likedProducts",e.Cart="addedProducts",e}({}),O=function(e,t){var c=Object(m.a)(e);if(c.includes(t))for(;c.includes(t);)c.splice(c.indexOf(t),1);else c.push(t);return c};function _(e,t,c,a){c(O(t,e)),function(e,t){var c=localStorage.getItem(e),a=c?JSON.parse(c):[];localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(O(a,t)))}(a,e)}var p=function(e,t){var c=localStorage.getItem(h.Cart),a=c?JSON.parse(c):[];localStorage.removeItem(h.Cart),e?a.push(t):a.splice(a.indexOf(t),1),localStorage.setItem(h.Cart,JSON.stringify(a))},x=c(0),f=localStorage.getItem(h.Like),g=f?JSON.parse(f):[],N=localStorage.getItem(h.Cart),v=N?JSON.parse(N):[],y=l.a.createContext({liked:[],setLiked:function(){},addedToCart:[],setAddedToCart:function(){}}),S=function(e){var t=e.children,c=Object(r.useState)(g),a=Object(o.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(v),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(r.useMemo)((function(){return{liked:n,setLiked:s,addedToCart:d,setAddedToCart:u}}),[n,d]);return Object(x.jsx)(y.Provider,{value:j,children:t})},k="https://mate-academy.github.io/react_phone-catalog/_new",C=16,L="?sort=age&shown=16",w="https://github.com/mate-academy/react_phone-catalog/pull/234",P=32,A=function(e,t){return{pathname:e,search:t}},q=function(e){var t=e.product,c=e.numLiked,a=e.onSetNumLiked,n=e.numAdded,l=e.onSetNumAdded,d=t.image,m=t.name,O=t.price,p=t.fullPrice,f=t.screen,g=t.capacity,N=t.ram,v=t.phoneId,S=Object(r.useContext)(y),C=S.liked,L=S.setLiked,w=S.addedToCart,P=S.setAddedToCart,q=w.filter((function(e){return e===v})).length,E=Object(r.useState)(C.includes(v)),I=Object(o.a)(E,2),T=I[0],F=I[1],M=Object(r.useState)(w.includes(v)),K=Object(o.a)(M,2),z=K[0],B=K[1],R=Object(i.m)(),J=R.pathname,$=R.search;return Object(x.jsxs)("div",{className:"product-card",children:[Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(v),state:A(J,$),children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(d),alt:"".concat(k,"/").concat(d),className:"product-card__img"})}),Object(x.jsx)("div",{className:"product-card__name",children:m}),O!==p?Object(x.jsxs)("div",{className:"product-card__prices",children:[Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)}),Object(x.jsx)("span",{className:"product-card__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"product-card__prices",children:Object(x.jsx)("span",{className:"product-card__discount-price",children:"$".concat(O)})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"product-card__param--value",children:f})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Capacity}),Object(x.jsx)("span",{className:"product-card__param--value",children:g})]}),Object(x.jsxs)("li",{className:"product-card__param",children:[Object(x.jsx)("span",{className:"product-card__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"product-card__param--value",children:N})]})]}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button",className:u()("selection-buttons__add",{"is-selected":z}),onClick:function(){var e=h.Cart;_(v,w,P,e),B(!z),l(z?n-q:n+1)},children:z?"Added to card":"Add to card"}),Object(x.jsx)("button",{type:"button","aria-label":"like card",className:u()("selection-buttons__like",{"is-selected":T}),onClick:function(){_(v,C,L,h.Like),F(!T),a(T?c-1:c+1)},"data-cy":"addToFavorite"})]})]})},E=(c(35),function(e){return e.Next="next",e.Prev="prev",e.Empty="",e}(E||{})),I=l.a.memo((function(e){var t=e.title,c=e.products,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,l=Object(r.useState)(0),d=Object(o.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)(4),h=Object(o.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(E.Prev),f=Object(o.a)(p,2),g=f[0],N=f[1],v=283,y=(c.length-O)*v*-1;return Object(r.useEffect)((function(){var e=window.innerWidth;e<633&&(e<1020&&(e<1303&&_(3),_(2)),_(1)),_(4)}),[j]),Object(x.jsxs)("div",{className:"slider",children:[Object(x.jsxs)("div",{className:"slider__top",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsxs)("div",{className:"slider__top--buttons-container",children:[Object(x.jsx)("button",{type:"button","aria-label":"scroll-left",title:"previous images",className:u()("slider__top--button","slider__top--button-left",{"is-disabled":g===E.Prev}),onClick:function(){N(j+v===0?E.Prev:E.Empty),b((function(e){return e+v}))},disabled:g===E.Prev}),Object(x.jsx)("button",{type:"button","aria-label":"scroll-right",title:"next images",className:u()("slider__top--button","slider__top--button-right",{"is-disabled":g===E.Next}),onClick:function(){N(j-v===y?E.Next:E.Empty),b((function(e){return e-v}))},disabled:g===E.Next})]})]}),Object(x.jsx)("div",{className:"slider__content",children:Object(x.jsx)("div",{className:"slider__images","data-cy":"cardsContainer",style:{transform:"translateX(".concat(j,"px)")},children:c.map((function(e){return Object(x.jsx)(q,{product:e,numLiked:a,onSetNumLiked:n,numAdded:s,onSetNumAdded:i},e.id)}))})})]})})),T=(c(36),[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/banner-accessories.bdd2e0fc.png"]),F=T.length-1,M=function(){var e=window.innerWidth;return e<1260?e<744?e-40:e-144:1020},K=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(0),s=Object(o.a)(n,2),i=s[0],l=s[1],d=Object(r.useState)(M),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)(!1),O=Object(o.a)(h,2),_=O[0],p=O[1],f=b+40,g=0,N=function(){c===F?(a(0),l(0)):(a((function(e){return e+1})),l((function(e){return e-f})))};return Object(r.useEffect)((function(){return _||(g=window.setInterval((function(){return N()}),5e3)),function(){return clearInterval(g)}}),[c,b]),Object(r.useEffect)((function(){var e=function(){m(M),a(0),l(0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsxs)("div",{className:"carusel",children:[Object(x.jsxs)("div",{className:"carusel__top",children:[Object(x.jsx)("button",{onClick:function(){clearInterval(g),p(!0),0===c?(a(F),l(-f*F)):(a((function(e){return e-1})),l((function(e){return e+f})))},type:"button","aria-label":"carusel prev image",title:"previous images",className:" carusel__button carusel__button--left "}),Object(x.jsx)("div",{className:"carusel__content",children:Object(x.jsx)("ul",{className:"carusel__list",style:{transform:"translateX(".concat(i,"px)")},children:T.map((function(e){return Object(x.jsx)("li",{className:"carusel__item",children:Object(x.jsx)("img",{src:e,alt:e,className:"carusel__img"})},e)}))})}),Object(x.jsx)("button",{type:"button","aria-label":"carusel next image",title:"next images",className:" carusel__button carusel__button--right ",onClick:function(){clearInterval(g),p(!0),N()}})]}),Object(x.jsx)("div",{className:"carusel__points",children:T.map((function(e,t){return Object(x.jsx)("button",{type:"button","aria-label":"image-carusel",className:u()("carusel__point",{"is-selected":c===T.indexOf(e)}),onClick:function(){return function(e){if(clearInterval(g),p(!0),a(e),e>c){var t=e-c;l((function(e){return e-t*f}))}if(e<c){var n=c-e;l((function(e){return e+n*f}))}}(t)}},e)}))})]})},z=(c(37),function(e){return e.WithDiscount="Hot prices",e.Categories="Shop by category",e.NewModels="Brand new models",e.Phones="Mobile phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Cart="Cart",e.MayLike="You may also like",e}({})),B=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e}({}),R=c.p+"static/media/category-phones.af93d992.png",J=c.p+"static/media/category-tablets.51782e18.png",$=c.p+"static/media/category-accessories.e47d6d6d.png",D=[{link:B.Phones,name:z.Phones,photo:R},{link:B.Tablets,name:z.Tablets,photo:J},{link:B.Accessories,name:z.Accessories,photo:$}],Q=l.a.memo((function(e){var t=e.title,c=e.products,a=function(e){return c.filter((function(t){return t.category===e})).length};return Object(x.jsxs)("div",{className:"categories",children:[Object(x.jsx)("h1",{className:"title__biggest",children:t}),Object(x.jsx)("div",{className:"categories__content","data-cy":"categoryLinksContainer",children:D.map((function(e){var t=e.link,c=e.name,n=e.photo;return Object(x.jsxs)(s.b,{to:t+L,className:"categories__category",children:[Object(x.jsx)("div",{className:u()("categories__img--container","categories__category--".concat(t)),children:Object(x.jsx)("img",{className:"categories__img",src:n,alt:n})}),Object(x.jsx)("h3",{className:"categories__category--name",children:c}),Object(x.jsx)("div",{className:"categories__category--quantity",children:"".concat(a(t)," models")})]},c)}))})]})}));function W(e){return(t=500,new Promise((function(e){return setTimeout(e,t)}))).then((function(){return fetch(k+e)})).then((function(e){if(!e.ok){var t=e.status?" Response status = ".concat(e.status):"",c=e.statusText?" Status text = ".concat(e.statusText):"",a="Unable to connect from the server.\n          ".concat(t).concat(c);throw new Error(a)}return e.json()}));var t}var H=function(e){return W(e)},G=function(e,t){var c=localStorage.getItem(t),a=c?JSON.parse(c):[];return e.filter((function(e){return a.includes(e.phoneId)}))},U=function(){return H("/products.json")},Y=function(e){return U().then((function(t){return function(e,t){return e.filter((function(e){return e.category===t}))}(t,e)})).catch((function(e){throw e}))},Z=(c(38),function(){return Object(x.jsx)("div",{className:"loader","data-cy":"loader",children:Object(x.jsx)("div",{className:"loader__content"})})}),X=(c(39),c.p+"static/media/Logo.13ce922e.svg"),V=function(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(!1),i=Object(o.a)(n,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){var e=document.querySelector(".footer"),t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting||a(!1)}))}));return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[]),Object(r.useEffect)((function(){var e=function(){var e=window.innerWidth;d(e>=744)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"footer__content",children:[Object(x.jsx)("a",{href:"/",className:"footer__nav-link",children:Object(x.jsx)("img",{src:X,alt:"logo-img",className:"logo-img"})}),Object(x.jsx)("nav",{className:"nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(s.b,{to:w,className:"footer__nav-link nav__link",children:"Github"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Contacts"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)("button",{type:"button",className:"footer__nav-link nav__link",onClick:function(){},children:"Rights"})})]})}),c?Object(x.jsx)("div",{}):Object(x.jsxs)("div",{className:"footer__button-go-top--container",children:[l&&"Back to top",Object(x.jsx)("button",{type:"button","aria-label":"scroll to top",className:"footer__button-go-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})})},ee=(c(40),function(e){var t=e.text;return Object(x.jsx)("div",{className:"err-mess",children:t})}),te=(c(41),function(e){return e.Home="Home",e.Phones="Phones",e.Tablets="Tablets",e.Accessories="Accessories",e.Favourites="Favourites",e.Card="Card",e.Github="GitHub",e.Contacts="Contacts",e}({}));function ce(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}var ae=function(e){return e.Sort="sort",e.ShownCards="shown",e.PageNumber="page",e.Query="query",e.Liked="liked",e.Added="added",e}({}),ne=function(e){var t=e.withNavigate,c=void 0===t||t,a=e.withSearchBy,n=void 0===a?"":a,l=e.quantityLiked,d=void 0===l?0:l,j=e.quantityAdded,m=void 0===j?0:j,h=e.onSetIsMenu,O=void 0===h?function(){}:h,_=e.isMenu,p=void 0!==_&&_,f=Object(i.m)(),g=f.pathname,N=f.search,v=Object(s.d)(),y=Object(o.a)(v,2),S=y[0],k=y[1],C=S.get(ae.Query)||"",w=Object(r.useState)(C),P=Object(o.a)(w,2),q=P[0],E=P[1],I=function(e){var t=e.isActive;return u()("nav__link","header__nav-link",{"header__is-active":t})},T=Object(r.useCallback)(function(e,t){var c=0;return function(a){window.clearTimeout(c),c=window.setTimeout((function(){return e(a)}),t)}}((function(e){k(ce(S,{query:e||null}))}),1e3),[]);return Object(x.jsxs)("header",{id:"header",className:"header",children:[Object(x.jsxs)("div",{className:"header__left",children:[Object(x.jsx)("div",{className:"header__logo",children:Object(x.jsx)(s.b,{to:"/",className:"header__nav-link",children:Object(x.jsx)("img",{src:X,alt:"logo-img",className:"logo-img"})})}),c&&Object(x.jsx)("nav",{className:"header__nav nav",children:Object(x.jsxs)("ul",{className:"nav__list",children:[Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:I,children:te.Home})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Phones+L,end:!0,className:I,children:te.Phones})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Tablets+L,end:!0,className:I,children:te.Tablets})}),Object(x.jsx)("li",{className:"header__nav-item nav__item",children:Object(x.jsx)(s.c,{to:b.Accessories+L,end:!0,className:I,children:te.Accessories})})]})})]}),Object(x.jsxs)("div",{className:"header__right",children:[n&&Object(x.jsxs)("div",{className:"header__form",children:[Object(x.jsx)("input",{className:"header__input",placeholder:"Search in ".concat(n,"..."),value:q,onChange:function(e){var t=e.target.value;E(t),T(t)}}),Object(x.jsx)("div",{className:"header__form--button",children:C.length?Object(x.jsx)("button",{type:"button","aria-label":"button delete query",onClick:function(){E(""),k(ce(S,{query:null}))},className:"header__form--close","data-cy":"searchDelete"}):Object(x.jsx)("div",{className:"header__form--search"})})]}),Object(x.jsx)("button",{type:"button","aria-label":"button open menu",className:u()("header__square-link",{header__menu:!p},{header__close:p}),onClick:function(){O(!p)}}),Object(x.jsx)(s.c,{to:b.Favourites,state:A(g,N),className:function(e){var t=e.isActive;return u()("header__square-link","header__favourites",{"header__is-active":t})},children:0!==d&&Object(x.jsx)("p",{className:"header__small-quantity",children:d})}),Object(x.jsx)(s.c,{to:b.Cart,state:A(g,N),className:function(e){var t=e.isActive;return u()("header__square-link","header__shopping-bag",{"header__is-active":t})},children:0!==m&&Object(x.jsx)("p",{className:"header__small-quantity",children:m})})]})]})},se=(c(42),function(e){var t=e.quantityLiked,c=e.quantityAdded,a=e.onSetIsMenu,n=Object(i.m)(),r=n.pathname,l=n.search,o=function(e){var t=e.isActive;return u()("menu__link",{"is-active":t})},d=function(){a(!1)};return Object(x.jsxs)("section",{className:"menu",children:[Object(x.jsx)(ne,{onSetIsMenu:a,isMenu:!0}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("nav",{className:"menu__nav",children:Object(x.jsxs)("ul",{className:"menu__list",children:[Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:"/",end:!0,className:o,onClick:d,state:A(r,l),children:te.Home})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Phones+L,end:!0,className:o,onClick:d,state:A(r,l),children:te.Phones})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Tablets+L,end:!0,className:o,onClick:d,state:A(r,l),children:te.Tablets})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Accessories+L,end:!0,className:o,onClick:d,state:A(r,l),children:te.Accessories})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)(s.c,{to:b.Favourites,end:!0,className:o,onClick:d,state:A(r,l),children:0!==t?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:te.Favourites}),Object(x.jsx)("p",{className:"menu__small-quantity",children:t})]}):te.Favourites})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:b.Cart,end:!0,className:o,onClick:d,state:A(r,l),children:0!==c?Object(x.jsxs)("div",{className:"menu__link-with-number",children:[Object(x.jsx)("p",{children:te.Card}),Object(x.jsx)("p",{className:"menu__small-quantity",children:c})]}):te.Card})}),Object(x.jsx)("li",{className:"menu__item menu__item--space",children:Object(x.jsx)("div",{className:"menu__link",children:te.Contacts})}),Object(x.jsx)("li",{className:"menu__item",children:Object(x.jsx)(s.c,{to:w,end:!0,className:"menu__link",children:te.Github})})]})})})]})}),ie=l.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),s=n[0],i=n[1],l=Object(r.useState)(c.length),d=Object(o.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)([]),h=Object(o.a)(m,2),O=h[0],_=h[1],p=Object(r.useState)(""),f=Object(o.a)(p,2),g=f[0],N=f[1],v=Object(r.useState)(!1),S=Object(o.a)(v,2),k=S[0],C=S[1],L=Object(r.useState)(!1),w=Object(o.a)(L,2),P=w[0],A=w[1],q=function(e){return e.filter((function(e){return e.fullPrice-e.price>0})).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))};return Object(r.useEffect)((function(){C(!0),U().then(_).catch((function(e){return N(e.message)})).finally((function(){C(!1)}))}),[]),Object(r.useEffect)((function(){P?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[P]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:P}),children:Object(x.jsx)(se,{quantityLiked:s,quantityAdded:j,onSetIsMenu:A})}),k&&Object(x.jsx)(Z,{}),!k&&!!g.length&&Object(x.jsx)(ee,{text:g}),!k&&!g.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content home-page",children:[Object(x.jsx)("div",{className:"home-page__carusel",children:Object(x.jsx)(K,{})}),Object(x.jsx)(I,{title:z.WithDiscount,products:q(O),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b}),Object(x.jsx)(Q,{title:z.Categories,products:O}),Object(x.jsx)(I,{title:z.NewModels,products:q(O).reverse(),numLiked:s,onSetNumLiked:i,numAdded:j,onSetNumAdded:b})]})}),!k&&Object(x.jsx)(V,{})]})})),re=(c(43),c(44),function(e){var t=e.lastPoint,c=e.interimPoints;return Object(x.jsxs)("div",{className:"way","data-cy":"breadCrumbs",children:[Object(x.jsx)(s.b,{to:"/","aria-label":"to home",title:"go to home",className:"way__home way__icon16"}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"}),!!c&&c.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(s.b,{to:e.link,className:"way__name way__link",children:e.text}),Object(x.jsx)("div",{className:"way__arrow-right way__icon16"})]},e.link)})),Object(x.jsx)("p",{className:"way__name",children:t})]})}),le=(c(45),c(46),function(e){var t=e.product,c=e.totalPrice,a=e.onSetTotalPrice,n=e.numAdded,l=e.onSetNumAdded,d=t.image,j=t.name,O=t.price,f=t.phoneId,g=Object(r.useContext)(y),N=g.addedToCart,v=g.setAddedToCart,S=Object(r.useState)((function(){return N.filter((function(e){return e===f})).length})),C=Object(o.a)(S,2),L=C[0],w=C[1],P=Object(i.m)(),q=P.pathname,E=P.search;return Object(x.jsxs)("div",{className:"horizont-card",children:[Object(x.jsxs)("div",{className:"horizont-card__left",children:[Object(x.jsx)("button",{type:"button",className:"horizont-card__close",onClick:function(){_(f,N,v,h.Cart),l(n-L),a(c-O*L)},"data-cy":"cartDeleteButton",children:"\xd7"}),Object(x.jsx)(s.b,{to:"".concat(b.Phones,"/").concat(f),state:A(q,E),className:"horizont-card__image--container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(d),alt:"".concat(k,"/").concat(d),className:"horizont-card__image"})}),Object(x.jsx)("div",{className:"horizont-card__name",children:j})]}),Object(x.jsxs)("div",{className:"horizont-card__right",children:[Object(x.jsxs)("div",{className:"horizont-card__pagination",children:[Object(x.jsx)("button",{type:"button",className:u()("horizont-card__pagination--button",{"is-disabled":1===L}),disabled:1===L,onClick:function(){w((function(e){return e-1}));var e=N.indexOf(f),t=Object(m.a)(N);t.splice(e,1),v(t),p(!1,f),a(c-O),l(n-1)},children:"\u2013"}),Object(x.jsx)("span",{className:"horizont-card__pagination--number",children:L}),Object(x.jsx)("button",{type:"button",className:"horizont-card__pagination--button",disabled:!1,onClick:function(){w((function(e){return e+1})),v([].concat(Object(m.a)(N),[f])),p(!0,f),a(c+O),l(n+1)},children:"+"})]}),Object(x.jsx)("h2",{className:"title__h-two",children:"$".concat(O)})]})]})}),oe=function(e){var t=e.totalPrice,c=e.onSetTotalPrice,a=void 0===c?function(){}:c,n=e.products,s=e.numLiked,i=e.onSetNumLiked,r=e.numAdded,l=e.onSetNumAdded;return Object(x.jsx)("ul",{className:"product-list","data-cy":"productList",children:n.map((function(e){return Object(x.jsx)("li",{className:u()({"product-list__item":t}),children:t?Object(x.jsx)(le,{product:e,totalPrice:t,onSetTotalPrice:a,numAdded:r,onSetNumAdded:l}):Object(x.jsx)(q,{product:e,numLiked:s,onSetNumLiked:i,numAdded:r,onSetNumAdded:l})},e.id)}))})},de=c(7),ue=(c(47),function(e){return e.AgeName="Newest",e.AgeKey="age",e.NameName="Alphabetically",e.NameKey="name",e.PriceName="Cheapest",e.PriceKey="price",e.NumberFour="4",e.NumberEight="8",e.NumberSixteen="16",e.AllKey="all",e.AllName="All",e}({})),je=c(24),be=c(26),me=["children","params"],he=function(e){var t=e.children,c=e.params,a=Object(be.a)(e,me),n=Object(s.d)(),i=Object(o.a)(n,1)[0];return Object(x.jsx)(s.b,Object(je.a)(Object(je.a)({to:{search:ce(i,c)}},a),{},{children:t}))},Oe=function(e){for(var t=e.totalPages,c=e.onSetCurrentPage,a=Object(s.d)(),n=Object(o.a)(a,1)[0],i=+(n.get(ae.ShownCards)||ue.NumberSixteen),l=+(n.get(ae.PageNumber)||1),d=Math.ceil(t/+i),j=P*d+5*(d-1)+20+64+5,b=[],m=1;m<=d;m+=1)b.push(m);var h=Object(r.useState)(!0),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(!1),g=Object(o.a)(f,2),N=g[0],v=g[1],y=Object(r.useState)(!1),S=Object(o.a)(y,2),k=S[0],C=S[1],L=Object(r.useState)(!1),w=Object(o.a)(L,2),A=w[0],q=w[1],E=Object(r.useState)(d),I=Object(o.a)(E,2),T=I[0],F=I[1],M=function(){var e=function(){var e=window.innerWidth,t=window.screen.width,c=e<t?e:t;return c<1260?c-144:c<744?c-40:1020}();e<j?function(e){for(var t=e-178,c=1,a=69;a<=t;a+=37)c+=1;var n=Math.floor((c-1)/2),s=T%2===0?1:0;s+=n,l-n<3?(C(!0),q(!1),F(c+1)):l+s>d-3?(q(!0),C(!1),F(c+1)):(q(!0),C(!0),F(c))}(e):(C(!1),q(!1),F(d))};return Object(r.useEffect)((function(){return M(),p(1===l),v(l===d),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}}),[l]),Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsx)("div",{className:"pagination__item--prev",children:_?Object(x.jsx)("span",{className:"pagination__link disabled",children:"<"}):Object(x.jsx)(he,{className:"pagination__link","data-cy":"paginationLeft",params:Object(de.a)({},ae.PageNumber,(l-1).toString()),onClick:function(){return c(l-1)},children:"<"})}),Object(x.jsxs)("ul",{className:"pagination__list","data-cy":"pagination",children:[!A&&!k&&b.map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===e}),params:Object(de.a)({},ae.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),A&&k&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===b[0]}),params:Object(de.a)({},ae.PageNumber,b[0].toString()),onClick:function(){return c(b[0])},children:b[0]})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),b.filter((function(e){var t=Math.floor((T-1)/2),c=T%2===0?1:0;return c=c+l+t,e>=l-t&&e<=c})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===e}),params:Object(de.a)({},ae.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===b[d-1]}),params:Object(de.a)({},ae.PageNumber,b[d-1].toString()),onClick:function(){return c(b[d-1])},children:b[d-1]})})]}),A&&!k&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===b[0]}),params:Object(de.a)({},ae.PageNumber,b[0].toString()),onClick:function(){return c(b[0])},children:b[0]})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),b.filter((function(e){return e>d-T})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===e}),params:Object(de.a)({},ae.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))}))]}),!A&&k&&Object(x.jsxs)(x.Fragment,{children:[b.filter((function(e){return e<=T})).map((function(e){return Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===e}),params:Object(de.a)({},ae.PageNumber,e.toString()),onClick:function(){return c(e)},children:e})},"page-number-".concat(e))})),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)("span",{className:"pagination__points",children:"..."})}),Object(x.jsx)("li",{className:"pagination__item",children:Object(x.jsx)(he,{className:u()("pagination__link",{active:l===b[d-1]}),params:Object(de.a)({},ae.PageNumber,b[d-1].toString()),onClick:function(){return c(b[d-1])},children:b[d-1]})})]})]}),Object(x.jsx)("div",{className:"pagination__item--next",children:N?Object(x.jsx)("span",{className:"pagination__link disabled",children:">"}):Object(x.jsx)(he,{className:"pagination__link","data-cy":"paginationRight",params:Object(de.a)({},ae.PageNumber,(l+1).toString()),onClick:function(){return c(l+1)},children:">"})})]})},_e=(c(48),function(e){var t=e.caterogy;return Object(x.jsx)("section",{className:"no-results",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found")})})})}),pe=(c(49),function(e){var t,c=e.options,a=e.searchParam,n=Object(r.useState)(!1),i=Object(o.a)(n,2),l=i[0],d=i[1],j=Object(s.d)(),b=Object(o.a)(j,1)[0].get(a)||"",m=Object(r.useRef)(null),h=function(){d((function(e){return!e}))},O=function(e){var t,c=e.target;!m.current||null!==(t=m.current)&&void 0!==t&&t.contains(c)||d(!1)};return Object(r.useEffect)((function(){return document.addEventListener("click",O,!0),function(){document.removeEventListener("click",O,!0)}}),[]),Object(x.jsxs)("div",{className:"select",ref:m,children:[Object(x.jsxs)("button",{type:"button",className:"select__button",onClick:h,children:[Object(x.jsx)("p",{children:(null===(t=c.find((function(e){return e.key===b})))||void 0===t?void 0:t.name)||"Choose param"}),Object(x.jsx)("div",{className:u()("select__arrow",{"arrow-top":l})})]}),Object(x.jsx)("div",{className:"select__options",children:l&&c.map((function(e){var t,c=e.key,n=e.name;return Object(x.jsx)(he,{params:(t={},Object(de.a)(t,a,c),Object(de.a)(t,ae.PageNumber,"".concat(1)),t),className:"select__button select__option",onClick:h,children:n},c)}))})]})}),xe=(c(50),[{key:ue.AgeKey,name:ue.AgeName},{key:ue.NameKey,name:ue.NameName},{key:ue.PriceKey,name:ue.PriceName}]),fe=[{key:ue.NumberFour,name:ue.NumberFour},{key:ue.NumberEight,name:ue.NumberEight},{key:ue.NumberSixteen,name:ue.NumberSixteen}],ge=function(){return Object(x.jsxs)("div",{className:"phones-filter",children:[Object(x.jsxs)("div",{className:"phones-filter__sort",children:[Object(x.jsx)("p",{children:"Sort by"}),Object(x.jsx)(pe,{options:xe,searchParam:ae.Sort})]}),Object(x.jsxs)("div",{className:"phones-filter__quantity-items",children:[Object(x.jsx)("p",{children:"Items on page"}),Object(x.jsx)(pe,{options:fe,searchParam:ae.ShownCards})]})]})},Ne=(c(51),function(e){var t=e.allProducts,c=e.filteredProducts,a=void 0===c?0:c,n=e.queryLength,s=void 0===n?0:n,i=e.productName,r=void 0===i?"item":i,l=function(e){return 1===e?"1 ".concat(r):"".concat(e," ").concat(r,"s")};return Object(x.jsxs)(x.Fragment,{children:[!t&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"You do not have selected products..."}),!!t&&!s&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:l(t)}),!!t&&!!s&&!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"Search have not givien results"}),!!t&&!!s&&!!a&&Object(x.jsx)("p",{className:"quantity-items-paragraph",children:"".concat(l(a)," of ").concat(l(t))})]})}),ve=(c(52),function(e){var t=e.caterogy;return Object(x.jsx)("p",{className:"no-results__title",children:"".concat(t," not found for the current query")})}),ye=l.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),i=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(r.useState)(!1),k=Object(o.a)(S,2),L=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(o.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(o.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(C),R=Object(o.a)(K,2),J=R[0],$=R[1],D=Object(s.d)(),Q=Object(o.a)(D,1)[0],W=Q.get(ae.Query)||"",H=Q.get(ae.Sort)||"",G=+(Q.get(ae.ShownCards)||C),U=+(Q.get(ae.PageNumber)||1),X=F.length,ce=(+U-1)*G+1,ie=function(e){$(e*G>X?X:e*G)},le=function(){if(H!==ue.AgeKey&&H!==ue.NameKey&&H!==ue.PriceKey)return!1;if(G!==+ue.NumberFour&&G!==+ue.NumberEight&&G!==+ue.NumberSixteen)return!1;var e=Math.ceil(X/+G);return!X||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),Y(B.Phones).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=W.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(H){case ue.AgeKey:return t.year-e.year;case ue.NameKey:return e.name.localeCompare(t.name);case ue.PriceKey:return e.price-t.price;default:return 0}})))}),[H,W,_]),Object(r.useEffect)((function(){ie(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{withSearchBy:B.Phones,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(se,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),L&&Object(x.jsx)(Z,{}),!L&&!!N.length&&Object(x.jsx)(ee,{text:N}),!L&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(re,{lastPoint:te.Phones})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:z.Phones}),!_.length&&Object(x.jsx)(_e,{caterogy:z.Tablets}),!!_.length&&le()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:_.length,filteredProducts:F.length,queryLength:W.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ge,{}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(oe,{numLiked:i,onSetNumLiked:l,numAdded:b,onSetNumAdded:m,products:F.slice(ce-1,J)})})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(Oe,{totalPages:X,onSetCurrentPage:ie})})]})]}),!le()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ve,{caterogy:z.Phones})})]})]})}),!L&&Object(x.jsx)(V,{})]})})),Se=(c(53),l.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),i=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(r.useState)(!1),k=Object(o.a)(S,2),L=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(o.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(o.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(C),R=Object(o.a)(K,2),J=R[0],$=R[1],D=Object(s.d)(),Q=Object(o.a)(D,1)[0],W=Q.get(ae.Query)||"",H=Q.get(ae.Sort)||"",G=+(Q.get(ae.ShownCards)||C),U=+(Q.get(ae.PageNumber)||1),X=F.length,ce=(+U-1)*G+1,ie=function(e){$(e*G>X?X:e*G)},le=function(){if(H!==ue.AgeKey&&H!==ue.NameKey&&H!==ue.PriceKey)return!1;if(G!==+ue.NumberFour&&G!==+ue.NumberEight&&G!==+ue.NumberSixteen)return!1;var e=Math.ceil(X/+G);return!X||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),Y(B.Tablets).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=W.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(H){case ue.AgeKey:return t.year-e.year;case ue.NameKey:return e.name.localeCompare(t.name);case ue.PriceKey:return e.price-t.price;default:return 0}})))}),[H,W,_]),Object(r.useEffect)((function(){ie(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{withSearchBy:B.Tablets,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(se,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),L&&Object(x.jsx)(Z,{}),!L&&!!N.length&&Object(x.jsx)(ee,{text:N}),!L&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(re,{lastPoint:te.Tablets})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:z.Tablets}),!_.length&&Object(x.jsx)(_e,{caterogy:z.Tablets}),!!_.length&&le()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:_.length,filteredProducts:F.length,queryLength:W.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ge,{}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(oe,{numLiked:i,onSetNumLiked:l,numAdded:b,onSetNumAdded:m,products:F.slice(ce-1,J)})})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(Oe,{totalPages:X,onSetCurrentPage:ie})})]})]}),!le()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ve,{caterogy:z.Tablets})})]})]})}),!L&&Object(x.jsx)(V,{})]})}))),ke=(c(54),c(55),function(e){var t=e.product.images,c=Object(r.useState)(t[0]),a=Object(o.a)(c,2),n=a[0],s=a[1];return Object(x.jsxs)("div",{className:"details-images",children:[Object(x.jsx)("div",{className:"details-images__small-images",children:t.map((function(e){return Object(x.jsx)("button",{type:"button",className:u()("small-image__container",{"is-active":e===n}),onClick:function(){return s(e)},children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(e),alt:"".concat(k,"/").concat(e),className:"small-image"})},e)}))}),Object(x.jsx)("div",{className:"details-images__main-img-container",children:Object(x.jsx)("img",{src:"".concat(k,"/").concat(n),alt:"".concat(k,"/").concat(n),className:"details-images__main-img"})})]})}),Ce=(c(56),c(57),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search,l=function(e){var t=e.isActive;return u()("select-capacity__link",{"is-active":t})};return Object(x.jsxs)("div",{className:"select-capacity",children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-capacity__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:A(n,r),className:l,children:"".concat(e.capacity.slice(0,-2)," GB")})},e.id)}))})]})}),Le=(c(58),function(e){var t=e.title,c=e.similarProducts,a=Object(i.m)(),n=a.pathname,r=a.search;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("ul",{className:"select-colors__list",children:c.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"".concat(b.Phones,"/").concat(e.phoneId),state:A(n,r),className:function(t){return function(e,t){return u()("select-colors__link","select-colors__color-".concat(t),{"is-active":e})}(t.isActive,e.color)}})},e.id)}))})]})}),we=function(e){var t=e.product,c=e.similarProducts,a=e.numLiked,n=e.onSetNumLiked,s=e.numAdded,i=e.onSetNumAdded,l=t.screen,d=t.resolution,b=t.processor,m=t.ram,O=t.capacity,p=t.priceRegular,f=t.priceDiscount,g=t.color,N=t.id,v=Object(r.useContext)(y),S=v.liked,k=v.setLiked,C=v.addedToCart,L=v.setAddedToCart,w=C.filter((function(e){return e===N})).length,P=Object(r.useState)(S.includes(N)),A=Object(o.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)(C.includes(N)),T=Object(o.a)(I,2),F=T[0],M=T[1],K=c.find((function(e){return e.phoneId===t.id})),z=c.filter((function(e){return e.color===g})).sort((function(e,t){return+e.capacity.slice(0,-2)-+t.capacity.slice(0,-2)})),B=c.filter((function(e){return e.capacity===O})).sort((function(e,t){return e.color.localeCompare(t.color)}));return Object(x.jsxs)("div",{className:"details-selects",children:[Object(x.jsxs)("div",{className:"details-selects__list",children:[Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(Le,{title:"Available colors",similarProducts:B})}),Object(x.jsx)("div",{className:"details-selects__select",children:Object(x.jsx)(Ce,{title:"Select capacity",similarProducts:z})}),f!==p?Object(x.jsxs)("div",{className:"details-selects__prices",children:[Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)}),Object(x.jsx)("span",{className:"details-selects__price",children:"$".concat(p)})]}):Object(x.jsx)("div",{className:"details-selects__prices",children:Object(x.jsx)("span",{className:"details-selects__price-with-discount",children:"$".concat(f)})}),Object(x.jsxs)("div",{className:"selection-buttons",children:[Object(x.jsx)("button",{type:"button","aria-label":"button add",className:u()("selection-buttons__add",{"is-selected":F}),onClick:function(){_(N,C,L,h.Cart),M(!F),i(F?s-w:s+1)},children:F?"Added to card":"Add to sort"}),Object(x.jsx)("button",{type:"button","aria-label":"button like",className:u()("selection-buttons__like",{"is-selected":q}),onClick:function(){_(N,S,k,h.Like),E(!q),n(q?a-1:a+1)}})]}),Object(x.jsxs)("ul",{className:"details-selects__params",children:[Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Screen}),Object(x.jsx)("span",{className:"details-selects__param--value",children:l})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Resolution}),Object(x.jsx)("span",{className:"details-selects__param--value",children:d})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Processor}),Object(x.jsx)("span",{className:"details-selects__param--value",children:b})]}),Object(x.jsxs)("li",{className:"details-selects__param",children:[Object(x.jsx)("span",{className:"details-selects__param--name",children:j.Ram}),Object(x.jsx)("span",{className:"details-selects__param--value",children:m})]})]})]}),K&&Object(x.jsx)("div",{className:"details-selects__id",children:"ID: ".concat(K.id)})]})},Pe=(c(59),function(e){var t=e.product.description;return Object(x.jsxs)("div",{className:"details-description",children:[Object(x.jsx)("h2",{className:"details-description__main-title",children:"About"}),Object(x.jsx)("div",{className:"details-description__content","data-cy":"productDescription",children:t.map((function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("h3",{className:"details-description__small-title",children:e.title}),e.text.map((function(e){return Object(x.jsx)("div",{className:"details-description__paragraf",children:e},e.slice(0,20))}))]},e.title)}))})]})}),Ae=(c(60),function(e){var t=e.product,c=t.screen,a=t.resolution,n=t.processor,s=t.ram,i=t.capacity,r=t.camera,l=t.zoom,o=t.cell;return Object(x.jsxs)("div",{className:"details-tech-specs",children:[Object(x.jsx)("h2",{className:"title__h-two",children:"Tech specs"}),Object(x.jsxs)("ul",{className:"details-tech-specs__content",children:[Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Screen}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:c})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Resolution}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:a})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Processor}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:n})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Ram}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:s})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Memory}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:i})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Camera}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:r})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Zoom}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:l})]}),Object(x.jsxs)("li",{className:"details-tech-specs__param",children:[Object(x.jsx)("span",{children:j.Cell}),Object(x.jsx)("span",{className:"details-tech-specs__value",children:o.join(", ")})]})]})]})}),qe=(c(61),function(e){var t=e.getBack;return Object(x.jsxs)(s.b,{to:t(),className:"button-back","data-cy":"backButton",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]})}),Ee=function(e){return{pathname:e?e.pathname:b.Phones,search:e?e.search:L}},Ie=function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),s=n[0],l=n[1],d=Object(r.useState)(c.length),u=Object(o.a)(d,2),j=u[0],m=u[1],h=Object(r.useState)(null),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(r.useState)(!1),k=Object(o.a)(S,2),C=k[0],w=k[1],P=Object(r.useState)([]),A=Object(o.a)(P,2),q=A[0],E=A[1],T=Object(r.useState)([]),F=Object(o.a)(T,2),M=F[0],K=F[1],B=Object(i.q)().productId,R=Object(i.m)().state;return Object(r.useEffect)((function(){B&&(w(!0),function(e){return H("/products/".concat(e,".json"))}(B).then(p).catch((function(e){return v(e)})).finally((function(){return w(!1)})))}),[B]),Object(r.useEffect)((function(){var e;_&&((e=_.namespaceId,U().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)===t}))}(t,e)})).catch((function(e){throw e}))).then(E).catch((function(e){return v(e.message)})),function(e){return U().then((function(t){return function(e,t){return e.filter((function(e){var c=e.capacity,a=e.itemId,n=c.split("").filter((function(e){return e.toUpperCase()===e.toLowerCase()})).join(""),s=a.indexOf(n)-1;return a.slice(0,s)!==t}))}(t,e)})).catch((function(e){throw e}))}(_.namespaceId).then(K).catch((function(e){return v(e)})))}),[_]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{quantityLiked:s,quantityAdded:j}),C&&Object(x.jsx)(Z,{}),!C&&!!N.length&&Object(x.jsx)(ee,{text:N}),!C&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[_&&Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(re,{lastPoint:_.name,interimPoints:[{text:te.Phones,link:b.Phones+L}]})}),Object(x.jsxs)("section",{className:"details-page",children:[Object(x.jsx)(qe,{getBack:function(){return Ee(R)}}),_?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"details-page__title",children:null===_||void 0===_?void 0:_.name}),Object(x.jsxs)("div",{className:"details-page__content",children:[Object(x.jsxs)("div",{className:"details-page__section-top",children:[Object(x.jsx)(ke,{product:_}),Object(x.jsx)(we,{product:_,similarProducts:q,numLiked:s,onSetNumLiked:l,numAdded:j,onSetNumAdded:m})]}),Object(x.jsxs)("div",{className:"details-page__section-bot",children:[Object(x.jsx)(Pe,{product:_}),Object(x.jsx)(Ae,{product:_})]})]})]}):Object(x.jsx)("p",{className:"details-page__paragraph",children:"Phone was not found"}),_&&Object(x.jsx)("div",{className:"details-page__slider",children:Object(x.jsx)(I,{title:z.MayLike,products:M,numLiked:s,onSetNumLiked:l,numAdded:j,onSetNumAdded:m})})]})]})}),!C&&Object(x.jsx)(V,{})]})},Te=(c(62),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),i=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),b=j[0],m=j[1],O=Object(r.useState)([]),_=Object(o.a)(O,2),p=_[0],f=_[1],g=Object(r.useState)(""),N=Object(o.a)(g,2),v=N[0],S=N[1],k=Object(r.useState)(!1),C=Object(o.a)(k,2),L=C[0],w=C[1],P=Object(r.useState)(!1),A=Object(o.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(o.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)([]),R=Object(o.a)(K,2),J=R[0],$=R[1],D=Object(s.d)(),Q=Object(o.a)(D,1)[0].get(ae.Query)||"";return Object(r.useEffect)((function(){w(!0),U().then((function(e){return G(e,h.Like)})).catch((function(e){throw e})).then(f).catch((function(e){return S(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(p.filter((function(e){return t.includes(e.phoneId)})))}),[p,i]),Object(r.useEffect)((function(){$(F.filter((function(e){var t=Q.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})))}),[Q,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{withSearchBy:B.Favourites,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(se,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),L&&Object(x.jsx)(Z,{}),!L&&!!v.length&&Object(x.jsx)(ee,{text:v}),!L&&!v.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(re,{lastPoint:te.Favourites})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:z.Favourites}),Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:F.length,filteredProducts:J.length,queryLength:Q.length})}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(oe,{products:J,numLiked:i,onSetNumLiked:l,numAdded:b,onSetNumAdded:m})})})]})]})}),!L&&Object(x.jsx)(V,{})]})}),Fe=(c(63),function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),l=n[0],d=n[1],j=Object(r.useState)(c.length),b=Object(o.a)(j,2),m=b[0],O=b[1],_=Object(r.useState)([]),p=Object(o.a)(_,2),f=p[0],g=p[1],N=Object(r.useState)(""),v=Object(o.a)(N,2),S=v[0],k=v[1],C=Object(r.useState)(!1),L=Object(o.a)(C,2),w=L[0],P=L[1],A=Object(r.useState)(!1),q=Object(o.a)(A,2),E=q[0],I=q[1],T=Object(r.useState)([]),F=Object(o.a)(T,2),M=F[0],K=F[1],B=Object(r.useState)(0),R=Object(o.a)(B,2),J=R[0],$=R[1],D=Object(r.useState)(!1),Q=Object(o.a)(D,2),W=Q[0],H=Q[1],Y=Object(i.m)().state;return Object(r.useEffect)((function(){P(!0),U().then((function(e){return G(e,h.Cart)})).catch((function(e){throw e})).then(g).catch((function(e){return k(e.message)})).finally((function(){return P(!1)}))}),[]),Object(r.useEffect)((function(){K(f.filter((function(e){return c.includes(e.phoneId)})))}),[f,m]),Object(r.useEffect)((function(){var e=c.map((function(e){var t,c=null===(t=M.find((function(t){return t.phoneId===e})))||void 0===t?void 0:t.price;return c?+c:0})).reduce((function(e,t){return e+t}),0);$(e)}),[M]),Object(r.useEffect)((function(){E?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[E]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{withNavigate:!1,quantityLiked:l,quantityAdded:m,onSetIsMenu:I}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:E}),children:Object(x.jsx)(se,{quantityLiked:l,quantityAdded:m,onSetIsMenu:I})}),w&&Object(x.jsx)(Z,{}),!w&&!!S.length&&Object(x.jsx)(ee,{text:S}),!w&&!S.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("main",{className:"container__content",children:Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsxs)(s.b,{to:Ee(Y),className:"button-back",children:[Object(x.jsx)("div",{className:"button-back__arrow"}),Object(x.jsx)("span",{className:"button-back__text",children:"Back"})]}),Object(x.jsx)("div",{className:"cart-page__title",children:Object(x.jsx)("h1",{className:"title__biggest",children:z.Cart})}),W&&Object(x.jsx)("p",{className:"cart-page__paragraph",children:"We are sorry, but this feature is not implemented yet."}),!W&&!M.length&&Object(x.jsx)("p",{className:"cart-page__paragraph",children:"Your cart is empty"}),!W&&!!M.length&&Object(x.jsx)("div",{className:"cart-page__content",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"cart-page__list",children:Object(x.jsx)(oe,{totalPrice:J,onSetTotalPrice:$,products:M,numLiked:l,onSetNumLiked:d,numAdded:m,onSetNumAdded:O})}),Object(x.jsxs)("div",{className:"cart-page__content--right",children:[Object(x.jsx)("h1",{className:"title__biggest cart-page__price",children:"$".concat(J)}),Object(x.jsx)("p",{className:"cart-page__paragraf","data-cy":"productQauntity",children:1===m?"Total for 1 item":"Total for ".concat(m," items")}),Object(x.jsx)("div",{className:"cart-page__button--container",children:Object(x.jsx)("button",{type:"button",className:"cart-page__button",disabled:0===m,onClick:function(){return H(!0)},children:"Checkout"})})]})]})})]})})}),!w&&Object(x.jsx)(V,{})]})}),Me=(c(64),l.a.memo((function(){var e=Object(r.useContext)(y),t=e.liked,c=e.addedToCart,a=Object(r.useState)(t.length),n=Object(o.a)(a,2),i=n[0],l=n[1],d=Object(r.useState)(c.length),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)([]),O=Object(o.a)(h,2),_=O[0],p=O[1],f=Object(r.useState)(""),g=Object(o.a)(f,2),N=g[0],v=g[1],S=Object(r.useState)(!1),k=Object(o.a)(S,2),L=k[0],w=k[1],P=Object(r.useState)(!1),A=Object(o.a)(P,2),q=A[0],E=A[1],I=Object(r.useState)([]),T=Object(o.a)(I,2),F=T[0],M=T[1],K=Object(r.useState)(C),R=Object(o.a)(K,2),J=R[0],$=R[1],D=Object(s.d)(),Q=Object(o.a)(D,1)[0],W=Q.get(ae.Query)||"",H=Q.get(ae.Sort)||"",G=+(Q.get(ae.ShownCards)||C),U=+(Q.get(ae.PageNumber)||1),X=F.length,ce=(+U-1)*G+1,ie=function(e){$(e*G>X?X:e*G)},le=function(){if(H!==ue.AgeKey&&H!==ue.NameKey&&H!==ue.PriceKey)return!1;if(G!==+ue.NumberFour&&G!==+ue.NumberEight&&G!==+ue.NumberSixteen)return!1;var e=Math.ceil(X/+G);return!X||!(U<1||U>e)};return Object(r.useEffect)((function(){w(!0),Y(B.Accessories).then((function(e){p(e),M(e)})).catch((function(e){return v(e.message)})).finally((function(){return w(!1)}))}),[]),Object(r.useEffect)((function(){M(_.filter((function(e){var t=W.trim().toLocaleLowerCase(),c=e.name,a=e.category,n=e.color,s=e.capacity,i=e.screen,r=e.year;return!t||!!(a.toLocaleLowerCase().includes(t)||n.toLocaleLowerCase().includes(t)||s.toLocaleLowerCase().includes(t)||i.toLocaleLowerCase().includes(t)||r.toString().toLocaleLowerCase().includes(t))||c.toLocaleLowerCase().includes(t)})).sort((function(e,t){switch(H){case ue.AgeKey:return t.year-e.year;case ue.NameKey:return e.name.localeCompare(t.name);case ue.PriceKey:return e.price-t.price;default:return 0}})))}),[H,W,_]),Object(r.useEffect)((function(){ie(U)}),[G,F]),Object(r.useEffect)((function(){q?document.body.classList.add("body__with-menu"):document.body.classList.remove("body__with-menu")}),[q]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{withSearchBy:B.Accessories,quantityLiked:i,quantityAdded:b,onSetIsMenu:E}),Object(x.jsx)("div",{className:u()("home-page__menu",{visible:q}),children:Object(x.jsx)(se,{quantityLiked:i,quantityAdded:b,onSetIsMenu:E})}),L&&Object(x.jsx)(Z,{}),!L&&!!N.length&&Object(x.jsx)(ee,{text:N}),!L&&!N.length&&Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("main",{className:"container__content",children:[Object(x.jsx)("div",{className:"product-page__way",children:Object(x.jsx)(re,{lastPoint:te.Accessories})}),Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)("h1",{children:z.Accessories}),!_.length&&Object(x.jsx)(_e,{caterogy:z.Accessories}),!!_.length&&le()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(Ne,{allProducts:_.length,filteredProducts:F.length,queryLength:W.length,productName:"model"})}),!!F.length&&Object(x.jsxs)("section",{className:"product-page__section",children:[Object(x.jsx)(ge,{}),Object(x.jsx)("div",{className:"product-page__list--container",children:Object(x.jsx)("div",{className:"product-page__list",children:Object(x.jsx)(oe,{numLiked:i,onSetNumLiked:l,numAdded:b,onSetNumAdded:m,products:F.slice(ce-1,J)})})}),F.length>G&&Object(x.jsx)("div",{className:"product-page__pagination",children:Object(x.jsx)(Oe,{totalPages:X,onSetCurrentPage:ie})})]})]}),!le()&&Object(x.jsx)("div",{className:"product-page__paragraph",children:Object(x.jsx)(ve,{caterogy:z.Accessories})})]})]})}),!L&&Object(x.jsx)(V,{})]})}))),Ke=(c(65),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,{}),Object(x.jsx)("section",{className:"not-found-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("h3",{className:"not-found-page__title",children:"Page not found :("})})})]})}),ze=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(S,{children:Object(x.jsx)(i.d,{children:Object(x.jsxs)(i.b,{path:"/",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(ie,{})}),Object(x.jsx)(i.b,{path:"home",element:Object(x.jsx)(i.a,{to:"/",replace:!0})}),Object(x.jsxs)(i.b,{path:"phones",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(ye,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ie,{})})]}),Object(x.jsxs)(i.b,{path:"tablets",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Se,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ie,{})})]}),Object(x.jsxs)(i.b,{path:"accessories",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Me,{})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(Ie,{})})]}),Object(x.jsx)(i.b,{path:"favourites",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Te,{})})}),Object(x.jsx)(i.b,{path:"shopping-bag",children:Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(Fe,{})})}),Object(x.jsx)(i.b,{path:"*",element:Object(x.jsx)(Ke,{})})]})})})})};n.a.render(Object(x.jsx)(s.a,{children:Object(x.jsx)(ze,{})}),document.getElementById("root"))}]),[[66,1,2]]]);
//# sourceMappingURL=main.c9f86b35.chunk.js.map